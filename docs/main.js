var app=function(t){"use strict";function n(){}function e(t,n){for(const e in n)t[e]=n[e];return t}function o(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(o)}function a(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function l(t,...e){if(null==t)return n;const o=t.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}function c(t,n,e){t.$$.on_destroy.push(l(n,e))}function u(t,n,e,o){if(t){const r=f(t,n,e,o);return t[0](r)}}function f(t,n,o,r){return t[1]&&r?e(o.ctx.slice(),t[1](r(n))):o.ctx}function d(t,n,e,o){if(t[2]&&o){const r=t[2](o(e));if("object"==typeof n.dirty){const t=[],e=Math.max(n.dirty.length,r.length);for(let o=0;o<e;o+=1)t[o]=n.dirty[o]|r[o];return t}return n.dirty|r}return n.dirty}function m(t){const n={};for(const e in t)"$"!==e[0]&&(n[e]=t[e]);return n}function p(t,n,e=n){return t.set(e),n}function h(t,n){t.appendChild(n)}function g(t,n,e){t.insertBefore(n,e||null)}function $(t){t.parentNode.removeChild(t)}function v(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function _(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function w(){return y(" ")}function x(){return y("")}function b(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function A(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function E(t){return""===t?void 0:+t}function T(t,n){n=""+n,t.data!==n&&(t.data=n)}function L(t,n){(null!=n||t.value)&&(t.value=n)}function M(t,n,e,o){t.style.setProperty(n,e,o?"important":"")}let F;function I(t){F=t}function S(){if(!F)throw new Error("Function called outside component initialization");return F}function R(t){S().$$.on_mount.push(t)}function N(t){S().$$.on_destroy.push(t)}function D(){const t=S();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const r=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach(n=>{n.call(t,r)})}}}function O(t,n){S().$$.context.set(t,n)}function C(t){return S().$$.context.get(t)}const P=[],z=[],k=[],H=[],U=Promise.resolve();let B=!1;function G(){B||(B=!0,U.then(W))}function Y(t){k.push(t)}function q(t){H.push(t)}let j=!1;const X=new Set;function W(){if(!j){j=!0;do{for(let t=0;t<P.length;t+=1){const n=P[t];I(n),V(n.$$)}for(P.length=0;z.length;)z.pop()();for(let t=0;t<k.length;t+=1){const n=k[t];X.has(n)||(X.add(n),n())}k.length=0}while(P.length);for(;H.length;)H.pop()();B=!1,j=!1,X.clear()}}function V(t){if(null!==t.fragment){t.update(),i(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(Y)}}const J=new Set;let K;function Q(){K={r:0,c:[],p:K}}function Z(){K.r||i(K.c),K=K.p}function tt(t,n){t&&t.i&&(J.delete(t),t.i(n))}function nt(t,n,e,o){if(t&&t.o){if(J.has(t))return;J.add(t),K.c.push(()=>{J.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}function et(t,n,e){const o=t.$$.props[n];void 0!==o&&(t.$$.bound[o]=e,e(t.$$.ctx[o]))}function ot(t){t&&t.c()}function rt(t,n,e){const{fragment:r,on_mount:s,on_destroy:l,after_update:c}=t.$$;r&&r.m(n,e),Y(()=>{const n=s.map(o).filter(a);l?l.push(...n):i(n),t.$$.on_mount=[]}),c.forEach(Y)}function it(t,n){const e=t.$$;null!==e.fragment&&(i(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function at(t,e,o,a,s,l,c=[-1]){const u=F;I(t);const f=e.props||{},d=t.$$={fragment:null,ctx:null,props:l,update:n,not_equal:s,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:c};let m=!1;d.ctx=o?o(t,f,(n,e,...o)=>{const r=o.length?o[0]:e;return d.ctx&&s(d.ctx[n],d.ctx[n]=r)&&(d.bound[n]&&d.bound[n](r),m&&function(t,n){-1===t.$$.dirty[0]&&(P.push(t),G(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}(t,n)),e}):[],d.update(),m=!0,i(d.before_update),d.fragment=!!a&&a(d.ctx),e.target&&(e.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(e.target)):d.fragment&&d.fragment.c(),e.intro&&tt(t.$$.fragment),rt(t,e.target,e.anchor),W()),I(u)}class st{$destroy(){it(this,1),this.$destroy=n}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function lt(t){let e,o,r,i,a,s;return{c(){e=_("div"),o=_("h3"),r=w(),i=_("canvas"),A(i,"width",a=32),A(i,"height",s=32),A(i,"class","svelte-10c35ml"),A(e,"id","view"),A(e,"class","svelte-10c35ml")},m(n,a){g(n,e,a),h(e,o),o.innerHTML=t[0],h(e,r),h(e,i),t[5](i)},p(t,[n]){1&n&&(o.innerHTML=t[0])},i:n,o:n,d(n){n&&$(e),t[5](null)}}}function ct(t,n,e){let o,r,{greeting:i}=n;return R(()=>{const t=r.getContext("2d");let n;return t.fillStyle="#00f",t.fillRect(0,0,r.width,r.height),t.fillStyle="#fff",t.font="20px Arial",t.fillText("2d Canvas works, too",10,100),function e(){n=requestAnimationFrame(e);const o=t.getImageData(0,0,r.width,r.height);for(let t=0;t<o.data.length;t+=4){const n=t/4,e=n%r.width,i=n/r.height>>>0,a=window.performance.now(),s=64+128*e/r.width+64*Math.sin(a/1e3),l=64+128*i/r.height+64*Math.cos(a/1e3),c=128;o.data[t+0]=s,o.data[t+1]=l,o.data[t+2]=c,o.data[t+3]=255}t.putImageData(o,0,0)}(),()=>{cancelAnimationFrame(n)}}),t.$set=t=>{"greeting"in t&&e(0,i=t.greeting)},o="enter your pin",[i,r,"enter your pin",void 0,function(){alert("submitted undefined")},function(t){z[t?"unshift":"push"](()=>{e(1,r=t)})}]}const ut=[];function ft(t,e=n){let o;const r=[];function i(n){if(s(t,n)&&(t=n,o)){const n=!ut.length;for(let n=0;n<r.length;n+=1){const e=r[n];e[1](),ut.push(e,t)}if(n){for(let t=0;t<ut.length;t+=2)ut[t][0](ut[t+1]);ut.length=0}}}return{set:i,update:function(n){i(n(t))},subscribe:function(a,s=n){const l=[a,s];return r.push(l),1===r.length&&(o=e(i)||n),a(t),()=>{const t=r.indexOf(l);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}const dt={},mt={},pt={};function ht(){return C(dt)}function gt(){return C(pt)}function $t(t,n){const e=t.indexOf(n);~e&&function(t,n){t[n]=t[t.length-1],t.pop()}(t,e)}function vt(t){if("number"==typeof t){return new Float32Array([((16711680&t)>>16)/255,((65280&t)>>8)/255,(255&t)/255])}return t}function _t(t,n=t){let e=0;for(let t=0;t<n.length;t+=1)e+=n[t]*n[t];const o=Math.sqrt(e);return t[0]=n[0]/o,t[1]=n[1]/o,t[2]=n[2]/o,t}function yt(t){const n=new Map;return(...e)=>{const o=JSON.stringify(e);return n.has(o)||n.set(o,t(...e)),n.get(o)}}var wt="undefined"!=typeof Float32Array?Float32Array:Array;function xt(){var t=new wt(16);return wt!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function bt(t,n){var e=n[0],o=n[1],r=n[2],i=n[3],a=n[4],s=n[5],l=n[6],c=n[7],u=n[8],f=n[9],d=n[10],m=n[11],p=n[12],h=n[13],g=n[14],$=n[15],v=e*s-o*a,_=e*l-r*a,y=e*c-i*a,w=o*l-r*s,x=o*c-i*s,b=r*c-i*l,A=u*h-f*p,E=u*g-d*p,T=u*$-m*p,L=f*g-d*h,M=f*$-m*h,F=d*$-m*g,I=v*F-_*M+y*L+w*T-x*E+b*A;return I?(I=1/I,t[0]=(s*F-l*M+c*L)*I,t[1]=(r*M-o*F-i*L)*I,t[2]=(h*b-g*x+$*w)*I,t[3]=(d*x-f*b-m*w)*I,t[4]=(l*T-a*F-c*E)*I,t[5]=(e*F-r*T+i*E)*I,t[6]=(g*y-p*b-$*_)*I,t[7]=(u*b-d*y+m*_)*I,t[8]=(a*M-s*T+c*A)*I,t[9]=(o*T-e*M-i*A)*I,t[10]=(p*x-h*y+$*v)*I,t[11]=(f*y-u*x-m*v)*I,t[12]=(s*E-a*L-l*A)*I,t[13]=(e*L-o*E+r*A)*I,t[14]=(h*_-p*w-g*v)*I,t[15]=(u*w-f*_+d*v)*I,t):null}function At(t,n,e){var o=n[0],r=n[1],i=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=n[7],f=n[8],d=n[9],m=n[10],p=n[11],h=n[12],g=n[13],$=n[14],v=n[15],_=e[0],y=e[1],w=e[2],x=e[3];return t[0]=_*o+y*s+w*f+x*h,t[1]=_*r+y*l+w*d+x*g,t[2]=_*i+y*c+w*m+x*$,t[3]=_*a+y*u+w*p+x*v,_=e[4],y=e[5],w=e[6],x=e[7],t[4]=_*o+y*s+w*f+x*h,t[5]=_*r+y*l+w*d+x*g,t[6]=_*i+y*c+w*m+x*$,t[7]=_*a+y*u+w*p+x*v,_=e[8],y=e[9],w=e[10],x=e[11],t[8]=_*o+y*s+w*f+x*h,t[9]=_*r+y*l+w*d+x*g,t[10]=_*i+y*c+w*m+x*$,t[11]=_*a+y*u+w*p+x*v,_=e[12],y=e[13],w=e[14],x=e[15],t[12]=_*o+y*s+w*f+x*h,t[13]=_*r+y*l+w*d+x*g,t[14]=_*i+y*c+w*m+x*$,t[15]=_*a+y*u+w*p+x*v,t}function Et(t,n,e){var o,r,i,a,s,l,c,u,f,d,m,p,h=e[0],g=e[1],$=e[2];return n===t?(t[12]=n[0]*h+n[4]*g+n[8]*$+n[12],t[13]=n[1]*h+n[5]*g+n[9]*$+n[13],t[14]=n[2]*h+n[6]*g+n[10]*$+n[14],t[15]=n[3]*h+n[7]*g+n[11]*$+n[15]):(o=n[0],r=n[1],i=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=n[7],f=n[8],d=n[9],m=n[10],p=n[11],t[0]=o,t[1]=r,t[2]=i,t[3]=a,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=f,t[9]=d,t[10]=m,t[11]=p,t[12]=o*h+s*g+f*$+n[12],t[13]=r*h+l*g+d*$+n[13],t[14]=i*h+c*g+m*$+n[14],t[15]=a*h+u*g+p*$+n[15]),t}function Tt(t,n,e,o){var r=n[0],i=n[1],a=n[2],s=n[3],l=r+r,c=i+i,u=a+a,f=r*l,d=r*c,m=r*u,p=i*c,h=i*u,g=a*u,$=s*l,v=s*c,_=s*u,y=o[0],w=o[1],x=o[2];return t[0]=(1-(p+g))*y,t[1]=(d+_)*y,t[2]=(m-v)*y,t[3]=0,t[4]=(d-_)*w,t[5]=(1-(f+g))*w,t[6]=(h+$)*w,t[7]=0,t[8]=(m+v)*x,t[9]=(h-$)*x,t[10]=(1-(f+p))*x,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Lt(t,n,e,o){var r=n[0],i=n[1],a=n[2],s=o[0],l=o[1],c=o[2],u=r-e[0],f=i-e[1],d=a-e[2],m=u*u+f*f+d*d;m>0&&(u*=m=1/Math.sqrt(m),f*=m,d*=m);var p=l*d-c*f,h=c*u-s*d,g=s*f-l*u;return(m=p*p+h*h+g*g)>0&&(p*=m=1/Math.sqrt(m),h*=m,g*=m),t[0]=p,t[1]=h,t[2]=g,t[3]=0,t[4]=f*g-d*h,t[5]=d*p-u*g,t[6]=u*h-f*p,t[7]=0,t[8]=u,t[9]=f,t[10]=d,t[11]=0,t[12]=r,t[13]=i,t[14]=a,t[15]=1,t}function Mt(){var t=new wt(3);return wt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Ft(t,n,e){var o=new wt(3);return o[0]=t,o[1]=n,o[2]=e,o}function It(t,n){var e=n[0],o=n[1],r=n[2],i=e*e+o*o+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t}function St(t,n,e){var o=n[0],r=n[1],i=n[2],a=e[0],s=e[1],l=e[2];return t[0]=r*l-i*s,t[1]=i*a-o*l,t[2]=o*s-r*a,t}function Rt(t,n,e){var o=n[0],r=n[1],i=n[2],a=e[3]*o+e[7]*r+e[11]*i+e[15];return a=a||1,t[0]=(e[0]*o+e[4]*r+e[8]*i+e[12])/a,t[1]=(e[1]*o+e[5]*r+e[9]*i+e[13])/a,t[2]=(e[2]*o+e[6]*r+e[10]*i+e[14])/a,t}Math.hypot||(Math.hypot=function(){for(var t=0,n=arguments.length;n--;)t+=arguments[n]*arguments[n];return Math.sqrt(t)});var Nt,Dt=function(t){var n=t[0],e=t[1],o=t[2];return Math.hypot(n,e,o)};Nt=Mt();const Ot=t=>({width:8&t[0],height:16&t[0]}),Ct=t=>({width:t[3],height:t[4]});function Pt(t){let n;const e=t[38].default,o=u(e,t,t[37],Ct);return{c(){o&&o.c()},m(t,e){o&&o.m(t,e),n=!0},p(t,n){o&&o.p&&24&n[0]|64&n[1]&&o.p(f(e,t,t[37],Ct),d(e,t[37],n,Ot))},i(t){n||(tt(o,t),n=!0)},o(t){nt(o,t),n=!1},d(t){o&&o.d(t)}}}function zt(t){let n,e,o,r,i,a=t[0]&&Pt(t);return{c(){n=_("div"),e=_("canvas"),o=w(),a&&a.c(),A(e,"class","svelte-6pzapg"),A(n,"class","container svelte-6pzapg"),Y(()=>t[40].call(n))},m(s,l){g(s,n,l),h(n,e),t[39](e),h(n,o),a&&a.m(n,null),r=function(t,n){"static"===getComputedStyle(t).position&&(t.style.position="relative");const e=document.createElement("object");let o;return e.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),e.setAttribute("aria-hidden","true"),e.type="text/html",e.tabIndex=-1,e.onload=()=>{o=e.contentDocument.defaultView,o.addEventListener("resize",n)},/Trident/.test(navigator.userAgent)?(t.appendChild(e),e.data="about:blank"):(e.data="about:blank",t.appendChild(e)),{cancel:()=>{o&&o.removeEventListener&&o.removeEventListener("resize",n),t.removeChild(e)}}}(n,t[40].bind(n)),i=!0},p(t,e){t[0]?a?(a.p(t,e),tt(a,1)):(a=Pt(t),a.c(),tt(a,1),a.m(n,null)):a&&(Q(),nt(a,1,1,()=>{a=null}),Z())},i(t){i||(tt(a),i=!0)},o(t){nt(a),i=!1},d(e){e&&$(n),t[39](null),a&&a.d(),r.cancel()}}}function kt(t){return{subscribe:ft(!1,n=>{if("undefined"!=typeof IntersectionObserver){const e=new IntersectionObserver(e=>{n(function(t){const n=t.getBoundingClientRect();return n.bottom>0&&n.right>0&&n.top<window.innerHeight&&n.left<window.innerWidth}(t))});return e.observe(t),()=>e.unobserve(t)}if("undefined"!=typeof window){function e(){const{top:e,bottom:o}=t.getBoundingClientRect();n(o>0&&e<window.innerHeight)}return window.addEventListener("scroll",e),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}}}).subscribe}}function Ht(t,o,r){let i,a,s,u=n,f=()=>(u(),u=l(y,t=>r(20,s=t)),y);t.$$.on_destroy.push(()=>u());let{background:d=[1,1,1]}=o,{backgroundOpacity:h=1}=o,{fog:g}=o,{pixelRatio:$}=o;const v="fog"in o;let _,y=ft(!1);f();let w=!1,x=!1,{gl:b}=o,{process_extra_shader_components:A}=o,E=()=>{},T={camera_matrix:ft(),view:ft(),projection:ft()};const L="undefined"!=typeof window?()=>{x||(x=!0,requestAnimationFrame(E))}:()=>{},M=ft(1);c(t,M,t=>r(3,i=t));const F=ft(1);c(t,F,t=>r(4,a=t));const I=function t(n,e){let o=0;const r=[],i=[],a=[],s={index:0,meshes:r,transparent_meshes:i,child_layers:a,needs_sort:!1,needs_transparency_sort:!0,add_mesh:(t,n)=>{n&&$t(t.transparent?r:i,t),t.transparent?(i.push(t),s.needs_transparency_sort=!0):r.push(t),N(()=>{$t(r,t),$t(i,t),e()})},add_child:(n=o++)=>{const r=t(n,e);return a.push(r),s.needs_sort=!0,N(()=>{$t(a,r),s.needs_sort=!0,e()}),r}};return s}(0,L),S={};let D=S;const C={ambient:[],directional:[],point:[]};function P(t){return n=>{t.push(n),L(),N(()=>{const e=t.indexOf(n);~e&&t.splice(e,1),L()})}}const k=new Map;let H=!0;const B={defines:["#define NUM_LIGHTS 2\n"+`#define USE_FOG ${v}\n`].join(""),add_camera:t=>{if(D&&D!==S)throw new Error("A scene can only have one camera");D=t,L(),T.camera_matrix.set(D.matrix),T.projection.set(D.projection),T.view.set(D.view),N(()=>{D=S,L()})},update_camera:t=>{T.camera_matrix.set(t.matrix),T.view.set(t.view),T.projection.set(t.projection),H=!0,L()},add_directional_light:P(C.directional),add_point_light:P(C.point),add_ambient_light:P(C.ambient),get_target:t=>(k.has(t)||k.set(t,ft(null)),k.get(t)),invalidate:L,...T,width:M,height:F};O(dt,B),O(mt,I);const Y=((q=xt())[0]=1,q[1]=0,q[2]=0,q[3]=0,q[4]=0,q[5]=1,q[6]=0,q[7]=0,q[8]=0,q[9]=0,q[10]=1,q[11]=0,q[12]=0,q[13]=0,q[14]=0,q[15]=1,q);var q;const j=ft(Y);O(pt,{get_matrix_world:()=>Y,ctm:{subscribe:j.subscribe}}),R(()=>{r(17,B.canvas=_,B),r(0,b=r(17,B.gl=_.getContext("webgl2"),B)),f(r(2,y=kt(_))),b.clearColor(0,0,0,0),E=t=>{if(!D)return;if(W){const t=$||window.devicePixelRatio||1;r(1,_.width=i*t,_),r(1,_.height=a*t,_),b.viewport(0,0,i*t,a*t),W=!1}if(x=!1,!s&&!t)return void r(12,w=!0);r(12,w=!1),b.blendFunc(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA),b.enable(b.BLEND),b.enable(b.CULL_FACE),b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);const n=C.ambient.reduce((t,{color:n,intensity:e})=>[Math.min(t[0]+n[0]*e,1),Math.min(t[1]+n[1]*e,1),Math.min(t[2]+n[2]*e,1)],new Float32Array([0,0,0]));let e,o={[b.DEPTH_TEST]:null,[b.CULL_FACE]:null};const l=(t,n)=>{o[t]!==n&&(n?b.enable(t):b.disable(t),o[t]=n)};function c({model:t,model_inverse_transpose:o,geometry:r,material:i,depthTest:a,doubleSided:s}){if(i){if(l(b.DEPTH_TEST,!1!==a),l(b.CULL_FACE,!0!==s),b.blendFuncSeparate(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.SRC_ALPHA,b.ONE),r.set_attributes(b),i.program!==e){if(e=i.program,b.useProgram(i.program),b.uniform3fv(i.uniform_locations.AMBIENT_LIGHT,n),v&&(b.uniform3fv(i.uniform_locations.FOG_COLOR,J),b.uniform1f(i.uniform_locations.FOG_DENSITY,g)),i.uniform_locations.DIRECTIONAL_LIGHTS)for(let t=0;t<8;t+=1){const n=C.directional[t];if(!n)break;b.uniform3fv(i.uniform_locations.DIRECTIONAL_LIGHTS[t].direction,n.direction),b.uniform3fv(i.uniform_locations.DIRECTIONAL_LIGHTS[t].color,n.color),b.uniform1f(i.uniform_locations.DIRECTIONAL_LIGHTS[t].intensity,n.intensity)}if(i.uniform_locations.POINT_LIGHTS)for(let t=0;t<8;t+=1){const n=C.point[t];if(!n)break;b.uniform3fv(i.uniform_locations.POINT_LIGHTS[t].location,n.location),b.uniform3fv(i.uniform_locations.POINT_LIGHTS[t].color,n.color),b.uniform1f(i.uniform_locations.POINT_LIGHTS[t].intensity,n.intensity)}b.uniform3fv(i.uniform_locations.CAMERA_WORLD_POSITION,D.world_position),b.uniformMatrix4fv(i.uniform_locations.VIEW,!1,D.view),b.uniformMatrix4fv(i.uniform_locations.PROJECTION,!1,D.projection)}if(b.uniformMatrix4fv(i.uniform_locations.MODEL,!1,t),b.uniformMatrix4fv(i.uniform_locations.MODEL_INVERSE_TRANSPOSE,!1,o),"function"==typeof A?i.apply_uniforms(b,null,t,A):i.apply_uniforms(b),r.index)b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,r.buffers.__index),b.drawElements(b[r.primitive],r.index.length,b.UNSIGNED_INT,0);else{const t=b[r.primitive];b.drawArrays(t,0,r.count)}}}!function t(n){n.needs_sort&&(n.child_layers.sort((t,n)=>t.index-n.index),n.needs_sort=!1),b.depthMask(!0),b.clearDepth(1),b.clear(b.DEPTH_BUFFER_BIT);for(let t=0;t<n.meshes.length;t+=1)c(n.meshes[t]);b.depthMask(!1),(H||n.needs_transparency_sort)&&(X(n.transparent_meshes),n.needs_transparency_sort=!1);for(let t=0;t<n.transparent_meshes.length;t+=1)c(n.transparent_meshes[t]);for(let e=0;e<n.child_layers.length;e+=1)t(n.child_layers[e])}(I),H=!1};const t=setTimeout(()=>{p(M,i=_.clientWidth),p(F,a=_.clientHeight)});return(G(),U).then(()=>E(!0)),()=>{b.getExtension("WEBGL_lose_context").loseContext(),clearTimeout(t)}});const X=t=>{if(t.length<2)return;const n=new Map,e=new Float32Array(16);t.forEach(t=>{const o=At(e,D.view,t.model)[14];n.set(t,o)}),t.sort((t,e)=>n.get(t)-n.get(e))};let W=!0;const V=()=>{W=!0,L()};let J,{$$slots:K={},$$scope:Q}=o;return t.$set=t=>{r(36,o=e(e({},o),m(t))),"background"in t&&r(7,d=t.background),"backgroundOpacity"in t&&r(8,h=t.backgroundOpacity),"fog"in t&&r(9,g=t.fog),"pixelRatio"in t&&r(10,$=t.pixelRatio),"gl"in t&&r(0,b=t.gl),"process_extra_shader_components"in t&&r(11,A=t.process_extra_shader_components),"$$scope"in t&&r(37,Q=t.$$scope)},t.$$.update=()=>{128&t.$$.dirty[0]&&(J=vt(d)),24&t.$$.dirty[0]&&V(),131968&t.$$.dirty[0]&&B.invalidate(),1183744&t.$$.dirty[0]&&s&&w&&B.invalidate()},o=m(o),[b,_,y,i,a,M,F,d,h,g,$,A,w,x,E,D,H,B,W,J,s,v,void 0,void 0,T,L,I,S,[],C,P,k,Y,j,X,V,o,Q,K,function(t){z[t?"unshift":"push"](()=>{r(1,_=t)})},function(){i=this.clientWidth,M.set(i),a=this.clientHeight,F.set(a)}]}class Ut extends st{constructor(t){super(),at(this,t,Ht,zt,s,{background:7,backgroundOpacity:8,fog:9,pixelRatio:10,gl:0,process_extra_shader_components:11},[-1,-1])}}!function(){var t,n=(t=new wt(4),wt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t)}();function Bt(){var t=new wt(4);return wt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Gt(t,n,e,o){var r,i,a,s,l,c=n[0],u=n[1],f=n[2],d=n[3],m=e[0],p=e[1],h=e[2],g=e[3];return(i=c*m+u*p+f*h+d*g)<0&&(i=-i,m=-m,p=-p,h=-h,g=-g),1-i>1e-6?(r=Math.acos(i),a=Math.sin(r),s=Math.sin((1-o)*r)/a,l=Math.sin(o*r)/a):(s=1-o,l=o),t[0]=s*c+l*m,t[1]=s*u+l*p,t[2]=s*f+l*h,t[3]=s*d+l*g,t}function Yt(t,n,e,o){var r=.5*Math.PI/180;n*=r,e*=r,o*=r;var i=Math.sin(n),a=Math.cos(n),s=Math.sin(e),l=Math.cos(e),c=Math.sin(o),u=Math.cos(o);return t[0]=i*l*u-a*s*c,t[1]=a*s*u+i*l*c,t[2]=a*l*c-i*s*u,t[3]=a*l*u+i*s*c,t}var qt,jt,Xt,Wt,Vt,Jt,Kt,Qt=function(t,n){var e=n[0],o=n[1],r=n[2],i=n[3],a=e*e+o*o+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=e*a,t[1]=o*a,t[2]=r*a,t[3]=i*a,t};qt=Mt(),jt=Ft(1,0,0),Xt=Ft(0,1,0),Wt=Bt(),Vt=Bt(),Jt=new wt(9),wt!=Float32Array&&(Jt[1]=0,Jt[2]=0,Jt[3]=0,Jt[5]=0,Jt[6]=0,Jt[7]=0),Jt[0]=1,Jt[4]=1,Jt[8]=1,Kt=Jt;function Zt(t){let n;const e=t[18].default,o=u(e,t,t[17],null);return{c(){o&&o.c()},m(t,e){o&&o.m(t,e),n=!0},p(t,[n]){o&&o.p&&131072&n&&o.p(f(e,t,t[17],null),d(e,t[17],n,null))},i(t){n||(tt(o,t),n=!0)},o(t){nt(o,t),n=!1},d(t){o&&o.d(t)}}}function tn(t,e,o){let r,i,a,s=n;t.$$.on_destroy.push(()=>s());let{location:u=[0,0,0]}=e,{lookAt:f}=e,{up:d=[0,1,0]}=e,{rotation:m=[0,0,0]}=e,{scale:h=1}=e;const g=ht(),$=gt(),{ctm:v}=$;c(t,v,t=>o(12,i=t));const _=ft(null);c(t,_,t=>o(13,a=t));let y=xt(),w=Bt();const x=new Float32Array(y.buffer,48,3);!function(t){O(pt,t)}({ctm:_});let b,A,{$$slots:E={},$$scope:T}=e;return t.$set=t=>{"location"in t&&o(3,u=t.location),"lookAt"in t&&o(4,f=t.lookAt),"up"in t&&o(5,d=t.up),"rotation"in t&&o(6,m=t.rotation),"scale"in t&&o(7,h=t.scale),"$$scope"in t&&o(17,T=t.$$scope)},t.$$.update=()=>{128&t.$$.dirty&&o(10,b="number"==typeof h?[h,h,h]:h),16&t.$$.dirty&&(o(0,A=f?g.get_target(f):ft(null)),s(),s=l(A,t=>o(11,r=t))),16232&t.$$.dirty&&(r?(Et(y,i,u),Lt(y,x,r,d),function(t,n,e){var o=e[0],r=e[1],i=e[2];t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o,t[3]=n[3]*o,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*i,t[9]=n[9]*i,t[10]=n[10]*i,t[11]=n[11]*i,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]}(y,y,b),p(_,a=y)):(o(9,w=Yt(w||Bt(),...m)),o(8,y=Tt(y,w,u,b)),p(_,a=At(a||xt(),i,y)))),8192&t.$$.dirty&&g.invalidate()},[A,v,_,u,f,d,m,h,y,w,b,r,i,a,g,$,x,T,E]}class nn extends st{constructor(t){super(),at(this,t,tn,Zt,s,{location:3,lookAt:4,up:5,rotation:6,scale:7})}}const en=new Map,on={5126:(t,n,e)=>t.uniform1f(n,e),35664:(t,n,e)=>t.uniform2fv(n,e),35665:(t,n,e)=>t.uniform3fv(n,e),35666:(t,n,e)=>t.uniform4fv(n,e),35674:(t,n,e)=>t.uniformMatrix2fv(n,!1,e),35675:(t,n,e)=>t.uniformMatrix3fv(n,!1,e),35676:(t,n,e)=>t.uniformMatrix4fv(n,!1,e),35678:(t,n,e)=>{t.activeTexture(t[`TEXTURE${e.index}`]),t.bindTexture(t.TEXTURE_2D,e.texture),t.uniform1i(n,e.index)}};function rn(t,n,e){en.has(t)||en.set(t,new Map);const o=en.get(t),r=n+e;if(!o.has(r)){const i=function(t,n,e){const o=t.createProgram();if(t.attachShader(o,ln(t,t.VERTEX_SHADER,n,"vertex")),t.attachShader(o,ln(t,t.FRAGMENT_SHADER,e,"fragment")),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw console.log(t.getProgramInfoLog(o)),new Error(`Failed to compile program:\n${t.getProgramInfoLog(o)}`);return o}(t,n,e),a=function(t,n){const e=[],o=t.getProgramParameter(n,t.ACTIVE_UNIFORMS);for(let r=0;r<o;r+=1){let{size:o,type:i,name:a}=t.getActiveUniform(n,r);const s=t.getUniformLocation(n,a),l=on[i];e.push({size:o,type:i,name:a,setter:l,loc:s})}return e}(t,i),s=function(t,n){const e=[],o=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES);for(let r=0;r<o;r+=1){let{size:o,type:i,name:a}=t.getActiveAttrib(n,r);a=a.replace("[0]","");const s=t.getAttribLocation(n,a);e.push({size:o,type:i,name:a,loc:s})}return e}(t,i);o.set(r,{program:i,uniforms:a,attributes:s})}return o.get(r)}function an(t,n=4){for(t=String(t);t.length<n;)t=` ${t}`;return t}function sn(t,n){let e="";for(;n--;)e+=t;return e}function ln(t,n,e,o){const r=t.createShader(n);if(t.shaderSource(r,e),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))return r;const i=t.getShaderInfoLog(r),a=/ERROR: (\d+):(\d+): (.+)/.exec(i);if(a){const t=+a[1],n=+a[2]-1;console.log("%c"+a[3],"font-weight: bold; color: red");const r=e.split("\n");for(let e=0;e<r.length;e+=1){if(Math.abs(n-e)>5)continue;const o=r[e].replace(/^\t+/gm,t=>sn(" ",4*t.length)),i=/^\s+/.exec(o),a=`${an(e)}: ${o}`;e===n?(console.log("%c"+a,"font-weight: bold; color: red"),console.log("%c"+(i&&i[0]||"")+sn(" ",t+6)+"^","color: red")):console.log(a)}throw new Error(`Failed to compile ${o} shader`)}throw new Error(`Failed to compile ${o} shader:\n${i}`)}class cn{constructor(t,n,e,o){this.scene=t;const r=t.gl;this.gl=r;const{program:i,uniforms:a,attributes:s}=rn(r,"#version 300 es\n\n"+t.defines+o+"\n\n\nprecision highp float;\nuniform mat4 MODEL;\nuniform mat4 PROJECTION;\nuniform mat4 VIEW;\nuniform mat4 MODEL_INVERSE_TRANSPOSE;\nuniform vec3 CAMERA_WORLD_POSITION;\nstruct PointLight {\n\tvec3 location;\n\tvec3 color;\n\tfloat intensity;\n};\nuniform PointLight POINT_LIGHTS[NUM_LIGHTS];\n\n\n"+n,"#version 300 es\n\n"+t.defines+o+"\n\n#extension GL_OES_standard_derivatives : enable\nprecision highp float;\nstruct DirectionalLight {\n\tvec3 direction;\n\tvec3 color;\n\tfloat intensity;\n};\nstruct PointLight {\n\tvec3 location;\n\tvec3 color;\n\tfloat intensity;\n};\nuniform vec3 AMBIENT_LIGHT;\nuniform DirectionalLight DIRECTIONAL_LIGHTS[NUM_LIGHTS];\nuniform PointLight POINT_LIGHTS[NUM_LIGHTS];\n\n\n"+e);this.vertName=null!==n.match(/(?:NAME\s)(.+)/g)?n.match(/(?:NAME\s)(.+)/g)[0].substr(5):"default",this.fragName=null!==e.match(/(?:NAME\s)(.+)/g)?e.match(/(?:NAME\s)(.+)/g)[0].substr(5):"default",this.program=i,this.uniforms=a,this.attributes=s,this.uniform_locations={},this.uniforms.forEach(t=>{!function(t,n,e){const o=n.replace(/\]$/,"").split(/\[|\]\.|\./);for(;o.length>1;){const n=o.shift(),e=o[0];t[n]||(t[n]=/^\d+$/.test(e)?[]:{}),t=t[n]}t[o[0]]=e}(this.uniform_locations,t.name,r.getUniformLocation(this.program,t.name))}),this.attribute_locations={},this.attributes.forEach(t=>{this.attribute_locations[t.name]=r.getAttribLocation(this.program,t.name)}),this.raw_values={},this.values={}}set_uniforms(t){let n=0;this.uniforms.forEach(({name:e,type:o,loc:r,setter:i,processor:a})=>{if(e in t){let r=t[e];if(r===this.raw_values[e])return;if(35678===o)return void(this.values[e]={texture:r.instantiate(this.scene)._,index:n++});"number"==typeof r&&5126!==o&&(r=vt(r)),this.values[e]=r}}),this.raw_values=t}apply_uniforms(t,n,e,o){this.uniforms.forEach(n=>{n.name in this.values&&n.setter(t,n.loc,this.values[n.name])}),"function"==typeof o&&o(t,this,e)}destroy(){}}var un="in vec3 position;\nin vec3 normal;\nout vec3 v_normal;\n#if defined(has_colormap) || defined(has_specularitymap) || defined(has_normalmap) || defined(has_bumpmap)\n#define has_textures true\n#endif\n#ifdef has_textures\nin vec2 uv;\nout vec2 v_uv;\n#endif\n#if defined(has_normalmap) || defined(has_bumpmap)\nout vec3 v_view_position;\n#endif\nout vec3 v_surface_to_light[NUM_LIGHTS];\n#ifdef has_specularity\nout vec3 v_surface_to_view[NUM_LIGHTS];\n#endif\n#ifdef USE_FOG\nout float v_fog_depth;\n#endif\nvoid main() {\n\tvec4 pos = vec4(position, 1.0);\n\tvec4 model_view_pos = VIEW * MODEL * pos;\n\tv_normal = (MODEL_INVERSE_TRANSPOSE * vec4(normal, 0.0)).xyz;\n\t#ifdef has_textures\n\tv_uv = uv;\n\t#endif\n\t#if defined(has_normalmap) || defined(has_bumpmap)\n\tv_view_position = model_view_pos.xyz;\n\t#endif\n\t#ifdef USE_FOG\n\tv_fog_depth = -model_view_pos.z;\n\t#endif\n\tfor (int i = 0; i < NUM_LIGHTS; i += 1) {\n\t\tPointLight light = POINT_LIGHTS[i];\n\t\tvec3 surface_world_position = (MODEL * pos).xyz;\n\t\tv_surface_to_light[i] = light.location - surface_world_position;\n\t\t#ifdef has_specularity\n\t\tv_surface_to_view[i] = CAMERA_WORLD_POSITION - surface_world_position;\n\t\t#endif\n\t}\n\tgl_Position = PROJECTION * model_view_pos;\n}\n",fn="#if defined(has_colormap) || defined(has_specularitymap) || defined(has_normalmap) || defined(has_bumpmap) || defined(has_emissivemap)\n#define has_textures true\n#endif\n#ifdef has_textures\nin vec2 v_uv;\n#endif\n#ifdef has_specularity\nuniform float specularity;\n#endif\n#ifdef has_colormap\nuniform sampler2D colormap;\n#endif\n#ifdef has_emissivemap\nuniform sampler2D emissivemap;\n#endif\n#ifdef has_specularitymap\nuniform sampler2D specularitymap;\n#endif\n#ifdef has_bumpmap\nuniform sampler2D bumpmap;\nvec2 dHdxy_fwd() {\n\tvec2 dSTdx = dFdx(v_uv);\n\tvec2 dSTdy = dFdy(v_uv);\n\tfloat Hll = texture(bumpmap, v_uv).x;\n\tfloat dBx = texture(bumpmap, v_uv + dSTdx).x - Hll;\n\tfloat dBy = texture(bumpmap, v_uv + dSTdy).x - Hll;\n\t#ifdef has_bumpscale\n\tHll *= bumpscale;\n\tdBx *= bumpscale;\n\tdBy *= bumpscale;\n\t#endif\n\treturn vec2(dBx, dBy);\n}\nvec3 perturbNormalArb(vec3 surf_pos, vec3 surface_normal, vec2 dHdxy) {\n\tvec3 vSigmaX = vec3(dFdx(surf_pos.x), dFdx(surf_pos.y), dFdx(surf_pos.z));\n\tvec3 vSigmaY = vec3(dFdy(surf_pos.x), dFdy(surf_pos.y), dFdy(surf_pos.z));\n\tvec3 vN = surface_normal;\n\tvec3 R1 = cross(vSigmaY, vN);\n\tvec3 R2 = cross(vN, vSigmaX);\n\tfloat fDet = dot(vSigmaX, R1);\n\tfDet *= (float(gl_FrontFacing) * 2.0 - 1.0);\n\tvec3 vGrad = sign(fDet) * (dHdxy.x * R1 + dHdxy.y * R2);\n\treturn normalize(abs(fDet) * surface_normal - vGrad);\n}\n#endif\n#ifdef has_bumpscale\nuniform float bumpscale;\n#endif\n#ifdef has_normalmap\nuniform sampler2D normalmap;\nvec3 perturbNormal2Arb(vec3 eye_pos, vec3 surface_normal) {\n\tvec3 q0 = vec3(dFdx(eye_pos.x), dFdx(eye_pos.y), dFdx(eye_pos.z));\n\tvec3 q1 = vec3(dFdy(eye_pos.x), dFdy(eye_pos.y), dFdy(eye_pos.z));\n\tvec2 st0 = dFdx(v_uv.st);\n\tvec2 st1 = dFdy(v_uv.st);\n\tif (length(q0) == 0.0) {\n\t\treturn surface_normal;\n\t}\n\tfloat scale = sign(st1.t * st0.s - st0.t * st1.s);\n\tvec3 S = normalize((q0 * st1.t - q1 * st0.t) * scale);\n\tvec3 T = normalize((-q0 * st1.s + q1 * st0.s) * scale);\n\tvec3 N = normalize(surface_normal);\n\tmat3 tsn = mat3(S, T, N);\n\tvec3 mapN = texture(normalmap, v_uv).xyz * 2.0 - 1.0;\n\tmapN.xy *= (float(gl_FrontFacing) * 2.0 - 1.0);\n\treturn normalize(tsn * mapN);\n}\n#endif\n#ifdef has_color\nuniform vec3 color;\n#endif\n#ifdef has_emissive\nuniform vec3 emissive;\n#endif\n#ifdef has_alpha\nuniform float alpha;\n#endif\n#ifdef USE_FOG\nuniform vec3 FOG_COLOR;\nuniform float FOG_DENSITY;\nin float v_fog_depth;\n#endif\nin vec3 v_normal;\n#if defined(has_normalmap) || defined(has_bumpmap)\nin vec3 v_view_position;\n#endif\nin vec3 v_surface_to_light[NUM_LIGHTS];\nin vec3 v_surface_to_view[NUM_LIGHTS];\nout mediump vec4 fragColor;\nvoid main () {\n\tvec3 normal = normalize(v_normal);\n\t#ifdef has_bumpmap\n\t\tnormal = perturbNormalArb(-v_view_position, normal, dHdxy_fwd());\n\t#elif defined(has_normalmap)\n\t\tnormal = perturbNormal2Arb(-v_view_position, normal);\n\t#endif\n\tvec3 lighting = vec3(0.0);\n\tvec3 spec_amount = vec3(0.0);\n\tfor (int i = 0; i < NUM_LIGHTS; i += 1) {\n\t\tDirectionalLight light = DIRECTIONAL_LIGHTS[i];\n\t\tfloat multiplier = clamp(dot(normal, -light.direction), 0.0, 1.0);\n\t\tlighting += multiplier * light.color * light.intensity;\n\t}\n\tfor (int i = 0; i < NUM_LIGHTS; i += 1) {\n\t\tPointLight light = POINT_LIGHTS[i];\n\t\tvec3 surface_to_light = normalize(v_surface_to_light[i]);\n\t\tfloat multiplier = clamp(dot(normal, surface_to_light), 0.0, 1.0);\t\tlighting += multiplier * light.color * light.intensity;\n\t\t#ifdef has_specularity\n\t\t\tvec3 surface_to_view = normalize(v_surface_to_view[i]);\n\t\t\tvec3 half_vector = normalize(surface_to_light + surface_to_view);\n\t\t\tfloat spec = clamp(dot(normal, half_vector), 0.0, 1.0);\n\t\t\t#ifdef has_specularitymap\n\t\t\tspec *= texture(specularitymap, v_uv).r;\n\t\t\t#endif\n\t\t\tspec_amount += specularity * spec * light.color * light.intensity;\n\t\t#endif\n\t}\n\t#if defined(has_colormap)\n\tfragColor = texture(colormap, v_uv);\n\t#elif defined(has_color)\n\tfragColor = vec4(color, 1.0);\n\t#endif\n\t#ifdef has_alpha\n\tfragColor.a *= alpha;\n\t#endif\n\tfragColor.rgb *= mix(AMBIENT_LIGHT, vec3(1.0, 1.0, 1.0), lighting);\n\tfragColor.rgb += spec_amount;\n\t#if defined(has_emissivemap)\n\tfragColor.rgb += texture(emissivemap, v_uv);\n\t#elif defined(has_emissive)\n\tfragColor.rgb += emissive;\n\t#endif\n\t#ifdef USE_FOG\n\tfragColor.rgb = mix(\n\t\tfragColor.rgb,\n\t\tFOG_COLOR,\n\t\t1.0 - exp(-FOG_DENSITY * FOG_DENSITY * v_fog_depth * v_fog_depth)\n\t);\n\t#endif\n}\n";function dn(t,n,e){let o,{location:r=[0,0,0]}=n,{rotation:i=[0,0,0]}=n,{scale:a=1}=n,{geometry:s}=n,{vert:l=un}=n,{frag:u=fn}=n,{uniforms:f={}}=n,{depthTest:d}=n,{doubleSided:m}=n,{transparent:p=!1}=n;const h=ht(),g=C(mt),{ctm:$}=gt();c(t,$,t=>e(18,o=t));xt();const v=xt(),_={};let y=!0;let w,x,b,A,E,T,L;return N(()=>{_.material&&_.material.destroy()}),t.$set=t=>{"location"in t&&e(1,r=t.location),"rotation"in t&&e(2,i=t.rotation),"scale"in t&&e(3,a=t.scale),"geometry"in t&&e(4,s=t.geometry),"vert"in t&&e(5,l=t.vert),"frag"in t&&e(6,u=t.frag),"uniforms"in t&&e(7,f=t.uniforms),"depthTest"in t&&e(8,d=t.depthTest),"doubleSided"in t&&e(9,m=t.doubleSided),"transparent"in t&&e(10,p=t.transparent)},t.$$.update=()=>{8&t.$$.dirty&&e(14,w="number"==typeof a?[a,a,a]:a),32772&t.$$.dirty&&e(15,x=Yt(x||Bt(),...i)),114690&t.$$.dirty&&e(16,b=Tt(b||xt(),x,r,w)),458752&t.$$.dirty&&e(17,A=At(A||xt(),o,b)),128&t.$$.dirty&&e(19,E=Object.keys(f).filter(t=>null!=f[t]).map(t=>`#define has_${t} true\n`).join("")),524384&t.$$.dirty&&e(20,T=new cn(h,l,u,E)),1048704&t.$$.dirty&&T.set_uniforms(f),1048592&t.$$.dirty&&e(21,L=s.instantiate(h,T.program)),131072&t.$$.dirty&&(_.model=A),131072&t.$$.dirty&&(_.model_inverse_transpose=(bt(v,A),function(t,n){if(t===n){var e=n[1],o=n[2],r=n[3],i=n[6],a=n[7],s=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[6]=n[9],t[7]=n[13],t[8]=o,t[9]=i,t[11]=n[14],t[12]=r,t[13]=a,t[14]=s}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}(v,v))),1048576&t.$$.dirty&&(_.material=T),2097152&t.$$.dirty&&(_.geometry=L),256&t.$$.dirty&&(_.depthTest=d),512&t.$$.dirty&&(_.doubleSided=m),1024&t.$$.dirty&&(_.transparent=p),1024&t.$$.dirty&&(g.add_mesh(_,y),y=!1),132096&t.$$.dirty&&p&&(g.needs_transparency_sort=!0),2228352&t.$$.dirty&&h.invalidate()},[$,r,i,a,s,l,u,f,d,m,p]}class mn extends st{constructor(t){super(),at(this,t,dn,null,s,{location:1,rotation:2,scale:3,geometry:4,vert:5,frag:6,uniforms:7,depthTest:8,doubleSided:9,transparent:10})}}function pn(t,n,e){let o,{id:r}=n,{location:i=[0,0,0]}=n;const{get_target:a}=ht(),{ctm:s}=gt();c(t,s,t=>e(8,o=t));let l=xt();const u=new Float32Array(l.buffer,48,3),f=new Float32Array(3);let d,m,p;return t.$set=t=>{"id"in t&&e(1,r=t.id),"location"in t&&e(2,i=t.location)},t.$$.update=()=>{4&t.$$.dirty&&e(5,d=i[0]),4&t.$$.dirty&&e(6,m=i[1]),4&t.$$.dirty&&e(7,p=i[2]),224&t.$$.dirty&&(e(4,f[0]=d,f),e(4,f[1]=m,f),e(4,f[2]=p,f)),280&t.$$.dirty&&e(3,l=Et(l,o,f)),10&t.$$.dirty&&a(r).set(u)},[s,r,i]}class hn extends st{constructor(t){super(),at(this,t,pn,null,s,{id:1,location:2})}}function gn(t,n,e){let{color:o=[1,1,1]}=n,{intensity:r=.2}=n;const i=ht(),a={};return i.add_ambient_light(a),t.$set=t=>{"color"in t&&e(0,o=t.color),"intensity"in t&&e(1,r=t.intensity)},t.$$.update=()=>{1&t.$$.dirty&&e(2,a.color=vt(o),a),2&t.$$.dirty&&e(2,a.intensity=r,a),4&t.$$.dirty&&i.invalidate()},[o,r]}class $n extends st{constructor(t){super(),at(this,t,gn,null,s,{color:0,intensity:1})}}function vn(t,n,e){let o,{direction:r=new Float32Array([-1,-1,-1])}=n,{color:i=new Float32Array([1,1,1])}=n,{intensity:a=1}=n;const s=ht(),{ctm:l}=gt();c(t,l,t=>e(6,o=t));const u={};let f;return s.add_directional_light(u),t.$set=t=>{"direction"in t&&e(1,r=t.direction),"color"in t&&e(2,i=t.color),"intensity"in t&&e(3,a=t.intensity)},t.$$.update=()=>{98&t.$$.dirty&&e(5,f=Rt(f||Mt(),r,o)),48&t.$$.dirty&&e(4,u.direction=It(u.direction||Mt(),f),u),4&t.$$.dirty&&e(4,u.color=vt(i),u),8&t.$$.dirty&&e(4,u.intensity=a,u),16&t.$$.dirty&&s.invalidate()},[l,r,i,a]}class _n extends st{constructor(t){super(),at(this,t,vn,null,s,{direction:1,color:2,intensity:3})}}function yn(t,n,e){let o,{location:r=new Float32Array([-1,-1,-1])}=n,{color:i=new Float32Array([1,1,1])}=n,{intensity:a=1}=n;const s=ht(),{ctm:l}=gt();c(t,l,t=>e(5,o=t));let u={location:Mt(),color:null,intensity:null};return s.add_point_light(u),t.$set=t=>{"location"in t&&e(1,r=t.location),"color"in t&&e(2,i=t.color),"intensity"in t&&e(3,a=t.intensity)},t.$$.update=()=>{50&t.$$.dirty&&e(4,u.location=Rt(u.location,r,o),u),4&t.$$.dirty&&e(4,u.color=vt(i),u),8&t.$$.dirty&&e(4,u.intensity=a,u),16&t.$$.dirty&&s.invalidate()},[l,r,i,a]}class wn extends st{constructor(t){super(),at(this,t,yn,null,s,{location:1,color:2,intensity:3})}}function xn(t,n,e){return t<n?n:t>e?e:t}function bn(t){let n,e=!1;function o(){t(n),e=!1}return function(t){e||(requestAnimationFrame(o),e=!0),n=t}}const An=t=>({location:1&t,target:2&t}),En=t=>({location:t[0],target:t[1]});function Tn(t){let n;const e=t[17].default,o=u(e,t,t[16],En);return{c(){o&&o.c()},m(t,e){o&&o.m(t,e),n=!0},p(t,[n]){o&&o.p&&65539&n&&o.p(f(e,t,t[16],En),d(e,t[16],n,An))},i(t){n||(tt(o,t),n=!0)},o(t){nt(o,t),n=!1},d(t){o&&o.d(t)}}}function Ln(t,n){return Math.sqrt(t*t+n*n)}function Mn(t,n,e){const o=ht();let{location:r=new Float32Array([1,3,1])}=n,{target:i=new Float32Array([0,1,0])}=n,{minDistance:a=0}=n,{maxDistance:s=1/0}=n,{minPolarAngle:l=0}=n,{maxPolarAngle:c=Math.PI}=n;function u(t,n){const o=r[0]-i[0],a=r[1]-i[1],s=r[2]-i[2],u=Math.sqrt(o*o+a*a+s*s);let f=Math.atan2(o,s);f-=t;let d=Math.acos(xn(a/u,-1,1));d=xn(d-n,1e-6,Math.PI-1e-6),d=xn(d,l,c);const m=Math.sin(d)*u,p=m*Math.sin(f),h=Math.cos(d)*u,g=m*Math.cos(f);e(0,r[0]=i[0]+p,r),e(0,r[1]=i[1]+h,r),e(0,r[2]=i[2]+g,r)}function f(t,n){const o=r[0]-i[0],a=(r[1],i[1],r[2]-i[2]);{const t=_t([o,a]),s=-t[0]*n,l=-t[1]*n;e(0,r[0]+=s,r),e(0,r[2]+=l,r),e(1,i[0]+=s,i),e(1,i[2]+=l,i)}{const n=_t([-a,o]),s=n[0]*t,l=n[1]*t;e(0,r[0]+=s,r),e(0,r[2]+=l,r),e(1,i[0]+=s,i),e(1,i[2]+=l,i)}}function d(t){let n=r[0]-i[0],o=r[1]-i[1],l=r[2]-i[2];const c=Math.sqrt(n*n+o*o+l*l);n/=t=xn(t,c/s,a?c/a:1/0),o/=t,l/=t,e(0,r[0]=i[0]+n,r),e(0,r[1]=i[1]+o,r),e(0,r[2]=i[2]+l,r)}function m(t){let n=t.clientX,e=t.clientY;const o=bn(t=>{const o=t.clientX,r=t.clientY,i=o-n,a=r-e;t.shiftKey||2===t.which?f(.01*i,.01*a):u(.005*i,.005*a),n=o,e=r});window.addEventListener("mousemove",o),window.addEventListener("mouseup",(function t(n){window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",t)}))}const p=bn(t=>{d(Math.pow(1.004,t.wheelDeltaY))});function h(t){t.preventDefault(),p(t)}function g(t){t.preventDefault();const n=t.touches[0],e=n.identifier;let o=n.clientX,r=n.clientY;const i=bn(t=>{if(t.touches.length>1)return;const n=t.touches[0];n.identifier===e&&(u(.003*(n.clientX-o),.003*(n.clientY-r)),o=n.clientX,r=n.clientY)});window.addEventListener("touchmove",i),window.addEventListener("touchend",(function t(n){let o=n.changedTouches.length;for(;o--;){if(n.changedTouches[o].identifier===e)return window.removeEventListener("touchmove",i),void window.removeEventListener("touchend",t)}}))}function $(t){t.preventDefault();const n=t.touches[0],e=t.touches[1],o=n.identifier,r=e.identifier;let i=(n.clientX+e.clientX)/2,a=(n.clientY+e.clientY)/2,s=Ln(e.clientX-n.clientX,e.clientY-n.clientY);const l=bn(t=>{if(2!==t.touches.length)return void alert(`${t.touches.length} touches`);const n=t.touches[0],e=t.touches[1];if(n.identifier!==o&&n.identifier!==r)return;if(e.identifier!==o&&e.identifier!==r)return;const l=(n.clientX+e.clientX)/2,c=(n.clientY+e.clientY)/2,u=Ln(e.clientX-n.clientX,e.clientY-n.clientY);f(.01*(l-i),.01*(c-a)),d(u/s),i=l,a=c,s=u});window.addEventListener("touchmove",l),window.addEventListener("touchend",(function t(n){let e=n.changedTouches.length;for(;e--;){const i=n.changedTouches[e];if(i.identifier===o||i.identifier===r)return window.removeEventListener("touchmove",l),void window.removeEventListener("touchend",t)}}))}function v(t){1===t.touches.length&&g(t),2===t.touches.length&&$(t)}o.canvas.addEventListener("mousedown",m),o.canvas.addEventListener("mousewheel",h),o.canvas.addEventListener("touchstart",v),N(()=>{o.canvas.removeEventListener("mousedown",m),o.canvas.removeEventListener("mousewheel",h),o.canvas.removeEventListener("touchstart",v)});let{$$slots:_={},$$scope:y}=n;return t.$set=t=>{"location"in t&&e(0,r=t.location),"target"in t&&e(1,i=t.target),"minDistance"in t&&e(2,a=t.minDistance),"maxDistance"in t&&e(3,s=t.maxDistance),"minPolarAngle"in t&&e(4,l=t.minPolarAngle),"maxPolarAngle"in t&&e(5,c=t.maxPolarAngle),"$$scope"in t&&e(16,y=t.$$scope)},[r,i,a,s,l,c,o,u,f,d,m,p,h,g,$,v,y,_]}class Fn extends st{constructor(t){super(),at(this,t,Mn,Tn,s,{location:0,target:1,minDistance:2,maxDistance:3,minPolarAngle:4,maxPolarAngle:5})}}function In(t,e,o){let r,i,a,s,u=n,f=()=>(u(),u=l(L,t=>o(12,i=t)),L);t.$$.on_destroy.push(()=>u());let{location:d=[0,0,0]}=e,{lookAt:m=null}=e,{up:p=[0,1,0]}=e,{fov:h=60}=e,{near:g=1}=e,{far:$=2e4}=e;const{add_camera:v,update_camera:_,width:y,height:w,get_target:x}=ht();c(t,y,t=>o(13,a=t)),c(t,w,t=>o(14,s=t));const{ctm:b}=gt();c(t,b,t=>o(11,r=t));const A=xt(),E=new Float32Array(A.buffer,48,3);let T={matrix:A,world_position:E,view:xt(),projection:xt()},L=ft(null);return f(),v(T),t.$set=t=>{"location"in t&&o(4,d=t.location),"lookAt"in t&&o(5,m=t.lookAt),"up"in t&&o(6,p=t.up),"fov"in t&&o(7,h=t.fov),"near"in t&&o(8,g=t.near),"far"in t&&o(9,$=t.far)},t.$$.update=()=>{33&t.$$.dirty&&("string"==typeof m?f(o(0,L=x(m))):L.set(m)),7248&t.$$.dirty&&o(10,T.matrix=(Et(T.matrix,r,d),i&&Lt(T.matrix,E,i,p),T.matrix),T),1024&t.$$.dirty&&o(10,T.view=bt(T.view,T.matrix),T),26496&t.$$.dirty&&o(10,T.projection=function(t,n,e,o,r){var i,a=1/Math.tan(n/2);return t[0]=a/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(i=1/(o-r),t[10]=(r+o)*i,t[14]=2*r*o*i):(t[10]=-1,t[14]=-2*o),t}(T.projection,h/180*Math.PI,a/s,g,$),T),1024&t.$$.dirty&&_(T)},[L,y,w,b,d,m,p,h,g,$]}class Sn extends st{constructor(t){super(),at(this,t,In,null,s,{location:4,lookAt:5,up:6,fov:7,near:8,far:9})}}class Rn{constructor(t,n,e,o,r,i){this.scene=t;const a=t.gl;this.attributes=e,this.index=o,this.primitive=r,this.count=i,this.locations={},this.buffers={};for(const t in e){const o=e[t];this.locations[t]=a.getAttribLocation(n,t),"POINTS"===this.primitive&&console.log(t,":",o);const r=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,r),a.bufferData(a.ARRAY_BUFFER,o.data,o.dynamic?a.DYNAMIC_DRAW:a.STATIC_DRAW),this.buffers[t]=r}if(o){const t=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,t),a.bufferData(a.ELEMENT_ARRAY_BUFFER,o,a.STATIC_DRAW),this.buffers.__index=t}a.bindBuffer(a.ARRAY_BUFFER,null),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null)}set_attributes(t){for(const n in this.attributes){const e=this.attributes[n],o=this.locations[n];if(o<0)continue;const{size:r=3,type:i=t.FLOAT,normalized:a=!1,stride:s=0,offset:l=0}=e,c=this.buffers[n];t.bindBuffer(t.ARRAY_BUFFER,c),t.enableVertexAttribArray(o),t.vertexAttribPointer(o,r,i,a,s,l)}}update(t,n,e){const o=this.scene,{gl:r}=o,i=this.attributes[t],a=this.buffers[t];if(r.bindBuffer(r.ARRAY_BUFFER,a),r.bufferData(r.ARRAY_BUFFER,i.data=n,i.dynamic?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.count=e,e===1/0)throw new Error("GL.Geometry must be instantiated with one or more { data, size } attributes");o.invalidate()}}class Nn{constructor(t={},n={}){this.attributes=t;const{index:e,primitive:o="TRIANGLES"}=n;this.index=e,this.primitive=o.toUpperCase(),this.count=Dn(t),this.instances=new Map}instantiate(t,n){return this.instances.has(n)||this.instances.set(n,new Rn(t,n,this.attributes,this.index,this.primitive,this.count)),this.instances.get(n)}update(t,n){this.attributes[t].data=n,this.count=Dn(this.attributes),this.instances.forEach(e=>{e.update(t,n,this.count)})}}function Dn(t){let n=1/0;for(const e in t){const o=t[e].data.length/t[e].size;o<n&&(n=o)}return n}var On=yt((t={})=>{const n={x:-.5,y:-.5,z:-.5,w:1,h:1,d:1};for(const e in n)e in t||(t[e]=n[e]);const e=[[t.x+t.w,t.y+t.h,t.z+t.d],[t.x,t.y+t.h,t.z+t.d],[t.x+t.w,t.y,t.z+t.d],[t.x,t.y,t.z+t.d],[t.x,t.y+t.h,t.z],[t.x+t.w,t.y+t.h,t.z],[t.x,t.y,t.z],[t.x+t.w,t.y,t.z]],o=[e[0],e[1],e[2],e[3],e[1],e[4],e[3],e[6],e[4],e[5],e[6],e[7],e[5],e[0],e[7],e[2],e[4],e[1],e[5],e[0],e[3],e[6],e[2],e[7]].flat(1/0);return new Nn({position:{data:new Float32Array(o),size:3},normal:{data:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0]),size:3},uv:{data:new Float32Array([.5,.25,.25,.25,.5,.5,.25,.5,.25,.25,0,.25,.25,.5,0,.5,1,.25,.75,.25,1,.5,.75,.5,.75,.25,.5,.25,.75,.5,.5,.5,.25,0,.25,.25,.5,0,.5,.25,.25,.5,.25,.75,.5,.5,.5,.75]),size:2}},{index:new Uint32Array([0,1,2,3,2,1,4,5,6,6,5,7,8,9,10,11,10,9,12,13,14,15,14,13,16,17,18,19,18,17,20,21,22,23,22,21])})}),Cn=yt(()=>new Nn({position:{data:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0]),size:3},normal:{data:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1]),size:3},uv:{data:new Float32Array([1,0,0,0,1,1,0,1]),size:2}},{index:new Uint32Array([0,1,2,3,2,1])}));const Pn=.85065080835204,zn=.5257311121191336,kn=new Float32Array([-zn,+Pn,0,+zn,+Pn,0,-zn,-Pn,0,+zn,-Pn,0,0,-zn,+Pn,0,+zn,+Pn,0,-zn,-Pn,0,+zn,-Pn,+Pn,0,-zn,+Pn,0,+zn,-Pn,0,-zn,-Pn,0,+zn]),Hn=new Uint16Array([0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1]),Un=(new Nn({position:{data:kn,size:3},normal:{data:kn,size:3}},{index:Hn}),Math.PI),Bn=2*Un;var Gn=yt(({turns:t=8,bands:n=6,shading:e="smooth"}={})=>"smooth"===e?function(t,n){const e=(t+1)*(n+1),o=2*(n-1)*t,r=new Float32Array(3*e),i=new Float32Array(2*e),a=new Uint32Array(3*o);let s=0,l=0;for(let e=0;e<=t;e+=1){const o=e/t;for(let t=0;t<=n;t+=1){const e=t/n,a=-Math.cos(o*Bn)*Math.sin(e*Un),c=Math.cos(e*Un),u=Math.sin(o*Bn)*Math.sin(e*Un);r[s++]=a,r[s++]=c,r[s++]=u,i[l++]=o,i[l++]=e}}let c=0;for(let e=0;e<t;e+=1){const t=e*(n+1);a[c++]=t+0,a[c++]=t+1,a[c++]=t+n+2;for(let e=1;e<n-1;e+=1)a[c++]=t+e,a[c++]=t+e+1,a[c++]=t+e+n+1,a[c++]=t+e+n+1,a[c++]=t+e+1,a[c++]=t+e+n+2;a[c++]=t+n-1,a[c++]=t+n,a[c++]=t+2*n}return new Nn({position:{data:r,size:3},normal:{data:r,size:3},uv:{data:i,size:2}},{index:a})}(t,n):function(t,n){throw new Error("TODO implement flat geometry")}());"undefined"!=typeof Blob&&URL.createObjectURL(new Blob(["self.onmessage = e => { self.onmessage = null; eval(e.data); };"],{type:"application/javascript"}))||"undefined"!=typeof window&&window.SVELTE_GL_WORKER_URL;function Yn(t,n,e){const o=t.slice();return o[13]=n[e],o[17]=e,o}function qn(t,n,e){const o=t.slice();return o[13]=n[e],o[15]=e,o}function jn(t){let n;const e=new Sn({props:{location:t[18],lookAt:"center",near:.01,far:1e3}});return{c(){ot(e.$$.fragment)},m(t,o){rt(e,t,o),n=!0},p(t,n){const o={};262144&n&&(o.location=t[18]),e.$set(o)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Xn(t){let n;const e=new mn({props:{geometry:On({x:0,y:0,z:0,w:Qn/t[1][t[17]].length,h:1*t[1][t[15]][t[17]],d:Zn/t[1].length}),location:[-Qn/2+t[17]*(Qn/t[1][0].length),0,-Zn/2+t[15]*(Zn/t[1].length)],rotation:[0,0,0],scale:[t[2],t[3],t[4]],uniforms:{color:t[6](t[0])}}});return{c(){ot(e.$$.fragment)},m(t,o){rt(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.geometry=On({x:0,y:0,z:0,w:Qn/t[1][t[17]].length,h:1*t[1][t[15]][t[17]],d:Zn/t[1].length})),2&n&&(o.location=[-Qn/2+t[17]*(Qn/t[1][0].length),0,-Zn/2+t[15]*(Zn/t[1].length)]),28&n&&(o.scale=[t[2],t[3],t[4]]),1&n&&(o.uniforms={color:t[6](t[0])}),e.$set(o)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Wn(t){let n,e,o=Array(t[1][t[15]].length),r=[];for(let n=0;n<o.length;n+=1)r[n]=Xn(Yn(t,o,n));const i=t=>nt(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=x()},m(t,o){for(let n=0;n<r.length;n+=1)r[n].m(t,o);g(t,n,o),e=!0},p(t,e){if(95&e){let a;for(o=Array(t[1][t[15]].length),a=0;a<o.length;a+=1){const i=Yn(t,o,a);r[a]?(r[a].p(i,e),tt(r[a],1)):(r[a]=Xn(i),r[a].c(),tt(r[a],1),r[a].m(n.parentNode,n))}for(Q(),a=o.length;a<r.length;a+=1)i(a);Z()}},i(t){if(!e){for(let t=0;t<o.length;t+=1)tt(r[t]);e=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)nt(r[t]);e=!1},d(t){v(r,t),t&&$(n)}}}function Vn(t){let e,o;const r=new mn({props:{geometry:Gn({turns:36,bands:36}),location:[0,.2,0],scale:.1,uniforms:{color:16777215,emissive:16711680}}}),i=new wn({props:{location:[0,0,0],color:16711680,intensity:.6}});return{c(){ot(r.$$.fragment),e=w(),ot(i.$$.fragment)},m(t,n){rt(r,t,n),g(t,e,n),rt(i,t,n),o=!0},p:n,i(t){o||(tt(r.$$.fragment,t),tt(i.$$.fragment,t),o=!0)},o(t){nt(r.$$.fragment,t),nt(i.$$.fragment,t),o=!1},d(t){it(r,t),t&&$(e),it(i,t)}}}function Jn(t){let n,e,o,r,i,a,s,l,c,u,f,d,m;const p=new hn({props:{id:"center",location:[0,t[3]/2,0]}}),h=new Fn({props:{maxPolarAngle:Math.PI/2,$$slots:{default:[jn,({location:t})=>({18:t}),({location:t})=>t?262144:0]},$$scope:{ctx:t}}}),_=new $n({props:{intensity:.3}}),y=new _n({props:{direction:[-1,-1,-1],intensity:.5}});let x=Array(t[1].length),b=[];for(let n=0;n<x.length;n+=1)b[n]=Wn(qn(t,x,n));const A=t=>nt(b[t],1,1,()=>{b[t]=null}),E=new mn({props:{geometry:Gn({turns:36,bands:36}),location:[-.5,2.4,1.2],scale:.4,uniforms:{color:1193046,alpha:.9},transparent:!0}}),T=new mn({props:{geometry:Gn({turns:36,bands:36}),location:[-1.4,2.6,.2],scale:.6,uniforms:{color:3368516,alpha:1},transparent:!0}}),L=new mn({props:{geometry:Cn(),location:[0,-.01,0],rotation:[-90,0,0],scale:10,uniforms:{color:16777215}}}),M=new mn({props:{geometry:Cn(),location:[0,5,0],rotation:[90,0,0],scale:10,uniforms:{color:16777215}}}),F=new mn({props:{geometry:Cn(),location:[0,-.01,-10],rotation:[0,0,0],scale:10,uniforms:{color:16777215}}}),I=new mn({props:{geometry:Cn(),location:[10,-.01,0],rotation:[0,-90,0],scale:10,uniforms:{color:16777215}}}),S=new mn({props:{geometry:Cn(),location:[-10,-.01,0],rotation:[0,90,0],scale:10,uniforms:{color:16777215}}}),R=new nn({props:{location:[t[5].x,t[5].y,t[5].z],$$slots:{default:[Vn]},$$scope:{ctx:t}}});return{c(){ot(p.$$.fragment),n=w(),ot(h.$$.fragment),e=w(),ot(_.$$.fragment),o=w(),ot(y.$$.fragment),r=w();for(let t=0;t<b.length;t+=1)b[t].c();i=w(),ot(E.$$.fragment),a=w(),ot(T.$$.fragment),s=w(),ot(L.$$.fragment),l=w(),ot(M.$$.fragment),c=w(),ot(F.$$.fragment),u=w(),ot(I.$$.fragment),f=w(),ot(S.$$.fragment),d=w(),ot(R.$$.fragment)},m(t,$){rt(p,t,$),g(t,n,$),rt(h,t,$),g(t,e,$),rt(_,t,$),g(t,o,$),rt(y,t,$),g(t,r,$);for(let n=0;n<b.length;n+=1)b[n].m(t,$);g(t,i,$),rt(E,t,$),g(t,a,$),rt(T,t,$),g(t,s,$),rt(L,t,$),g(t,l,$),rt(M,t,$),g(t,c,$),rt(F,t,$),g(t,u,$),rt(I,t,$),g(t,f,$),rt(S,t,$),g(t,d,$),rt(R,t,$),m=!0},p(t,n){const e={};8&n&&(e.location=[0,t[3]/2,0]),p.$set(e);const o={};if(786432&n&&(o.$$scope={dirty:n,ctx:t}),h.$set(o),95&n){let e;for(x=Array(t[1].length),e=0;e<x.length;e+=1){const o=qn(t,x,e);b[e]?(b[e].p(o,n),tt(b[e],1)):(b[e]=Wn(o),b[e].c(),tt(b[e],1),b[e].m(i.parentNode,i))}for(Q(),e=x.length;e<b.length;e+=1)A(e);Z()}const r={};32&n&&(r.location=[t[5].x,t[5].y,t[5].z]),524288&n&&(r.$$scope={dirty:n,ctx:t}),R.$set(r)},i(t){if(!m){tt(p.$$.fragment,t),tt(h.$$.fragment,t),tt(_.$$.fragment,t),tt(y.$$.fragment,t);for(let t=0;t<x.length;t+=1)tt(b[t]);tt(E.$$.fragment,t),tt(T.$$.fragment,t),tt(L.$$.fragment,t),tt(M.$$.fragment,t),tt(F.$$.fragment,t),tt(I.$$.fragment,t),tt(S.$$.fragment,t),tt(R.$$.fragment,t),m=!0}},o(t){nt(p.$$.fragment,t),nt(h.$$.fragment,t),nt(_.$$.fragment,t),nt(y.$$.fragment,t),b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)nt(b[t]);nt(E.$$.fragment,t),nt(T.$$.fragment,t),nt(L.$$.fragment,t),nt(M.$$.fragment,t),nt(F.$$.fragment,t),nt(I.$$.fragment,t),nt(S.$$.fragment,t),nt(R.$$.fragment,t),m=!1},d(t){it(p,t),t&&$(n),it(h,t),t&&$(e),it(_,t),t&&$(o),it(y,t),t&&$(r),v(b,t),t&&$(i),it(E,t),t&&$(a),it(T,t),t&&$(s),it(L,t),t&&$(l),it(M,t),t&&$(c),it(F,t),t&&$(u),it(I,t),t&&$(f),it(S,t),t&&$(d),it(R,t)}}}function Kn(t){let n,e,o,r,a,s,l,c,u,f,d,m,p,v,x,E,F,I,S,R,N,D,O,C,P,z,k,H,U,B,G,Y,q;const j=new Ut({props:{$$slots:{default:[Jn]},$$scope:{ctx:t}}});return{c(){ot(j.$$.fragment),n=w(),e=_("div"),o=_("label"),r=_("input"),a=w(),s=_("label"),l=_("input"),d=y(" width ("),m=y(t[2]),p=y(")"),v=w(),x=_("label"),E=_("input"),R=y(" height ("),N=y(t[3]),D=y(")"),O=w(),C=_("label"),P=_("input"),U=y(" depth ("),B=y(t[4]),G=y(")"),A(r,"type","color"),M(r,"height","40px"),A(l,"type","range"),A(l,"min",c=.1),A(l,"max",u=5),A(l,"step",f=.1),A(E,"type","range"),A(E,"min",F=.1),A(E,"max",I=5),A(E,"step",S=.1),A(P,"type","range"),A(P,"min",z=.1),A(P,"max",k=5),A(P,"step",H=.1),A(e,"class","controls svelte-156do91")},m(i,c){rt(j,i,c),g(i,n,c),g(i,e,c),h(e,o),h(o,r),L(r,t[0]),h(e,a),h(e,s),h(s,l),L(l,t[2]),h(s,d),h(s,m),h(s,p),h(e,v),h(e,x),h(x,E),L(E,t[3]),h(x,R),h(x,N),h(x,D),h(e,O),h(e,C),h(C,P),L(P,t[4]),h(C,U),h(C,B),h(C,G),Y=!0,q=[b(r,"input",t[9]),b(l,"change",t[10]),b(l,"input",t[10]),b(E,"change",t[11]),b(E,"input",t[11]),b(P,"change",t[12]),b(P,"input",t[12])]},p(t,[n]){const e={};524351&n&&(e.$$scope={dirty:n,ctx:t}),j.$set(e),1&n&&L(r,t[0]),4&n&&L(l,t[2]),(!Y||4&n)&&T(m,t[2]),8&n&&L(E,t[3]),(!Y||8&n)&&T(N,t[3]),16&n&&L(P,t[4]),(!Y||16&n)&&T(B,t[4])},i(t){Y||(tt(j.$$.fragment,t),Y=!0)},o(t){nt(j.$$.fragment,t),Y=!1},d(t){it(j,t),t&&$(n),t&&$(e),i(q)}}}const Qn=10,Zn=10;function te(t,n,e){let{title:o}=n,{color:r="#ff3e00"}=n;const i=JSON.parse(document.getElementById("data_in_html").children[0].innerHTML),a=[];for(let t=0;t<i.length;t++){const n=[];for(const e of Object.getOwnPropertyNames(i[t]))n.push(i[t][e]);a[t]=n}console.log(a);let s=1,l=1,c=1;const u={};return R(()=>{let t;const n=()=>{t=requestAnimationFrame(n),e(5,u.x=3*Math.sin(.001*Date.now()),u),e(5,u.y=2.5+2*Math.sin(4e-4*Date.now()),u),e(5,u.z=3*Math.cos(.002*Date.now()),u)};return n(),()=>cancelAnimationFrame(t)}),t.$set=t=>{"title"in t&&e(7,o=t.title),"color"in t&&e(0,r=t.color)},[r,a,s,l,c,u,t=>parseInt(t.slice(1),16),o,i,function(){r=this.value,e(0,r)},function(){s=E(this.value),e(2,s)},function(){l=E(this.value),e(3,l)},function(){c=E(this.value),e(4,c)}]}function ne(t,n,e){const o=t.slice();return o[11]=n[e],o[12]=n,o[13]=e,o}function ee(t){let n,e=t[0].values,o=[];for(let n=0;n<e.length;n+=1)o[n]=oe(ne(t,e,n));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=x()},m(t,e){for(let n=0;n<o.length;n+=1)o[n].m(t,e);g(t,n,e)},p(t,r){if(1&r){let i;for(e=t[0].values,i=0;i<e.length;i+=1){const a=ne(t,e,i);o[i]?o[i].p(a,r):(o[i]=oe(a),o[i].c(),o[i].m(n.parentNode,n))}for(;i<o.length;i+=1)o[i].d(1);o.length=e.length}},d(t){v(o,t),t&&$(n)}}}function oe(t){let n,e,o,r,i,a,s,l=t[0].labels[t[13]]+"";function c(){t[10].call(e,t[11],t[12],t[13])}return{c(){n=_("label"),e=_("input"),o=w(),r=y(l),i=w(),a=_("br"),A(e,"type","checkbox")},m(l,u){g(l,n,u),h(n,e),e.checked=t[11],h(n,o),h(n,r),h(n,i),g(l,a,u),s=b(e,"change",c)},p(n,o){t=n,1&o&&(e.checked=t[11]),1&o&&l!==(l=t[0].labels[t[13]]+"")&&T(r,l)},d(t){t&&$(n),t&&$(a),s()}}}function re(t){let e,o,r,i,a=t[0].labels.length>0&&t[0].values.length>0&&ee(t);return{c(){e=_("div"),o=_("h4"),r=y(t[1]),i=w(),a&&a.c(),A(o,"class","svelte-1osk8cq"),A(e,"class","controls svelte-1osk8cq")},m(t,n){g(t,e,n),h(e,o),h(o,r),h(e,i),a&&a.m(e,null)},p(t,[n]){2&n&&T(r,t[1]),t[0].labels.length>0&&t[0].values.length>0?a?a.p(t,n):(a=ee(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:n,o:n,d(t){t&&$(e),a&&a.d()}}}function ie(t,n,e){let{title:o}=n,{color:r="#ff3e00"}=n,{optionFlags:i=[]}=n,{viewLocation:a}=n,{viewTarget:s}=n,l=D(),c=0;return t.$set=t=>{"title"in t&&e(1,o=t.title),"color"in t&&e(2,r=t.color),"optionFlags"in t&&e(0,i=t.optionFlags),"viewLocation"in t&&e(3,a=t.viewLocation),"viewTarget"in t&&e(4,s=t.viewTarget)},[i,o,r,a,s,function(){console.log("Initializing Navigation Controls..."),document.querySelectorAll(".controls h4").forEach(t=>{console.log(t);const n=3*window.innerHeight/4;t.addEventListener("click",(function(t){let e=0;setInterval((function(){e<n&&scroll({top:e,left:0}),e+=Math.floor(n/(533/33))}),33)})),t.title="Click To See Article"}),document.querySelectorAll("canvas").forEach(t=>{console.log(t),t.addEventListener("wheel",(function(t){const n=t||window.event;(new Date).getTime()-c>66&&(c=(new Date).getTime(),n.deltaY<0?l("up"):n.deltaY>0&&l("down")),n.preventDefault()}))}),document.querySelectorAll("canvas").forEach(t=>{console.log(t),t.addEventListener("keydown",(function(t){const n=t||window.event;if((new Date).getTime()-c>66)return c=(new Date).getTime(),32===n.keyCode?(n.preventDefault(),!0):38===n.keyCode||87===n.keyCode?(l("forward"),n.preventDefault(),!0):40===n.keyCode||83===n.keyCode?(l("backward"),n.preventDefault(),!0):37===n.keyCode||65===n.keyCode?(l("left"),n.preventDefault(),!0):39===n.keyCode||68===n.keyCode?(l("right"),n.preventDefault(),!0):(console.log("Keyboard Event: ",n.keyCode),!1)}))})},c,void 0,l,t=>""+new Date(t).toString(),function(t,n,o){n[o]=this.checked,e(0,i)}]}class ae extends st{constructor(t){super(),at(this,t,ie,re,s,{title:1,color:2,optionFlags:0,viewLocation:3,viewTarget:4,init:5})}get init(){return this.$$.ctx[5]}}function se(t,n,e){const o=t.slice();return o[26]=n[e],o[30]=e,o}function le(t,n,e){const o=t.slice();return o[26]=n[e],o[28]=e,o}function ce(t){let n,e,o,r=t[12](t[3],t[4])+"";const i=new Sn({props:{location:t[3],lookAt:"center",near:.01,far:1e3}});return{c(){n=y(r),e=w(),ot(i.$$.fragment)},m(t,r){g(t,n,r),g(t,e,r),rt(i,t,r),o=!0},p(t,e){(!o||24&e[0])&&r!==(r=t[12](t[3],t[4])+"")&&T(n,r);const a={};8&e[0]&&(a.location=t[3]),i.$set(a)},i(t){o||(tt(i.$$.fragment,t),o=!0)},o(t){nt(i.$$.fragment,t),o=!1},d(t){t&&$(n),t&&$(e),it(i,t)}}}function ue(t){let n;const e=new mn({props:{geometry:On({x:0,y:0,z:0,w:he/t[5][t[30]].length,h:1*t[5][t[28]][t[30]],d:ge/t[5].length}),location:[-he/2+t[30]*(he/t[5][0].length),0,-ge/2+t[28]*(ge/t[5].length)],rotation:[0,0,0],scale:[t[6],t[7],t[8]],uniforms:{color:$e(t[1],t[5][t[28]][t[30]])}}});return{c(){ot(e.$$.fragment)},m(t,o){rt(e,t,o),n=!0},p(t,n){const o={};32&n[0]&&(o.geometry=On({x:0,y:0,z:0,w:he/t[5][t[30]].length,h:1*t[5][t[28]][t[30]],d:ge/t[5].length})),32&n[0]&&(o.location=[-he/2+t[30]*(he/t[5][0].length),0,-ge/2+t[28]*(ge/t[5].length)]),448&n[0]&&(o.scale=[t[6],t[7],t[8]]),34&n[0]&&(o.uniforms={color:$e(t[1],t[5][t[28]][t[30]])}),e.$set(o)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function fe(t){let n,e,o=Array(t[5][t[28]].length),r=[];for(let n=0;n<o.length;n+=1)r[n]=ue(se(t,o,n));const i=t=>nt(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=x()},m(t,o){for(let n=0;n<r.length;n+=1)r[n].m(t,o);g(t,n,o),e=!0},p(t,e){if(482&e[0]){let a;for(o=Array(t[5][t[28]].length),a=0;a<o.length;a+=1){const i=se(t,o,a);r[a]?(r[a].p(i,e),tt(r[a],1)):(r[a]=ue(i),r[a].c(),tt(r[a],1),r[a].m(n.parentNode,n))}for(Q(),a=o.length;a<r.length;a+=1)i(a);Z()}},i(t){if(!e){for(let t=0;t<o.length;t+=1)tt(r[t]);e=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)nt(r[t]);e=!1},d(t){v(r,t),t&&$(n)}}}function de(t){let e,o;const r=new mn({props:{geometry:Gn({turns:36,bands:36}),location:[0,.2,0],scale:.1,uniforms:{color:16777215,emissive:16711680}}}),i=new wn({props:{location:[0,0,0],color:16711680,intensity:.6}});return{c(){ot(r.$$.fragment),e=w(),ot(i.$$.fragment)},m(t,n){rt(r,t,n),g(t,e,n),rt(i,t,n),o=!0},p:n,i(t){o||(tt(r.$$.fragment,t),tt(i.$$.fragment,t),o=!0)},o(t){nt(r.$$.fragment,t),nt(i.$$.fragment,t),o=!1},d(t){it(r,t),t&&$(e),it(i,t)}}}function me(t){let n,e,o,r,i,a;const s=new hn({props:{id:"center",location:[0,t[7]/2,0]}}),l=new Fn({props:{maxPolarAngle:Math.PI/2,location:t[3],target:t[4],$$slots:{default:[ce]},$$scope:{ctx:t}}}),c=new $n({props:{intensity:.3}}),u=new _n({props:{direction:[-1,-1,-1],intensity:.5}});let f=Array(t[5].length),d=[];for(let n=0;n<f.length;n+=1)d[n]=fe(le(t,f,n));const m=t=>nt(d[t],1,1,()=>{d[t]=null}),p=new nn({props:{location:[t[9].x,t[9].y,t[9].z],$$slots:{default:[de]},$$scope:{ctx:t}}});return{c(){ot(s.$$.fragment),n=w(),ot(l.$$.fragment),e=w(),ot(c.$$.fragment),o=w(),ot(u.$$.fragment),r=w();for(let t=0;t<d.length;t+=1)d[t].c();i=w(),ot(p.$$.fragment)},m(t,f){rt(s,t,f),g(t,n,f),rt(l,t,f),g(t,e,f),rt(c,t,f),g(t,o,f),rt(u,t,f),g(t,r,f);for(let n=0;n<d.length;n+=1)d[n].m(t,f);g(t,i,f),rt(p,t,f),a=!0},p(t,n){const e={};128&n[0]&&(e.location=[0,t[7]/2,0]),s.$set(e);const o={};if(8&n[0]&&(o.location=t[3]),16&n[0]&&(o.target=t[4]),24&n[0]|1&n[1]&&(o.$$scope={dirty:n,ctx:t}),l.$set(o),482&n[0]){let e;for(f=Array(t[5].length),e=0;e<f.length;e+=1){const o=le(t,f,e);d[e]?(d[e].p(o,n),tt(d[e],1)):(d[e]=fe(o),d[e].c(),tt(d[e],1),d[e].m(i.parentNode,i))}for(Q(),e=f.length;e<d.length;e+=1)m(e);Z()}const r={};512&n[0]&&(r.location=[t[9].x,t[9].y,t[9].z]),1&n[1]&&(r.$$scope={dirty:n,ctx:t}),p.$set(r)},i(t){if(!a){tt(s.$$.fragment,t),tt(l.$$.fragment,t),tt(c.$$.fragment,t),tt(u.$$.fragment,t);for(let t=0;t<f.length;t+=1)tt(d[t]);tt(p.$$.fragment,t),a=!0}},o(t){nt(s.$$.fragment,t),nt(l.$$.fragment,t),nt(c.$$.fragment,t),nt(u.$$.fragment,t),d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)nt(d[t]);nt(p.$$.fragment,t),a=!1},d(t){it(s,t),t&&$(n),it(l,t),t&&$(e),it(c,t),t&&$(o),it(u,t),t&&$(r),v(d,t),t&&$(i),it(p,t)}}}function pe(t){let n,e,o,r,a,s,l,c,u,f,d,m,p,v,x,E,F,I,S,R,N,D,O,C,P,k,H,U,B,G,Y,j,X,W,V,J,K,Q,Z;function at(n){t[16].call(null,n)}let st={backgroundOpacity:"1.0",process_extra_shader_components:t[13],$$slots:{default:[me]},$$scope:{ctx:t}};void 0!==t[10]&&(st.gl=t[10]);const lt=new Ut({props:st});function ct(n){t[17].call(null,n)}function ut(n){t[18].call(null,n)}function ft(n){t[19].call(null,n)}function dt(n){t[20].call(null,n)}z.push(()=>et(lt,"gl",at));let mt={title:t[2]};void 0!==t[11]&&(mt.init=t[11]),void 0!==t[0]&&(mt.optionFlags=t[0]),void 0!==t[3]&&(mt.viewLocation=t[3]),void 0!==t[4]&&(mt.viewTarget=t[4]);const pt=new ae({props:mt});return z.push(()=>et(pt,"init",ct)),z.push(()=>et(pt,"optionFlags",ut)),z.push(()=>et(pt,"viewLocation",ft)),z.push(()=>et(pt,"viewTarget",dt)),pt.$on("move",t[21]),{c(){ot(lt.$$.fragment),e=w(),ot(pt.$$.fragment),l=w(),c=_("div"),u=_("label"),f=_("input"),d=w(),m=_("label"),p=_("input"),F=y(" width ("),I=y(t[6]),S=y(")"),R=w(),N=_("label"),D=_("input"),k=y(" height ("),H=y(t[7]),U=y(")"),B=w(),G=_("label"),Y=_("input"),V=y(" depth ("),J=y(t[8]),K=y(")"),A(f,"type","color"),M(f,"height","40px"),A(p,"type","range"),A(p,"min",v=.1),A(p,"max",x=5),A(p,"step",E=.1),A(D,"type","range"),A(D,"min",O=.1),A(D,"max",C=5),A(D,"step",P=.1),A(Y,"type","range"),A(Y,"min",j=.1),A(Y,"max",X=5),A(Y,"step",W=.1),A(c,"class","controls svelte-1tt45l5")},m(n,o){rt(lt,n,o),g(n,e,o),rt(pt,n,o),g(n,l,o),g(n,c,o),h(c,u),h(u,f),L(f,t[1]),h(c,d),h(c,m),h(m,p),L(p,t[6]),h(m,F),h(m,I),h(m,S),h(c,R),h(c,N),h(N,D),L(D,t[7]),h(N,k),h(N,H),h(N,U),h(c,B),h(c,G),h(G,Y),L(Y,t[8]),h(G,V),h(G,J),h(G,K),Q=!0,Z=[b(f,"input",t[22]),b(p,"change",t[23]),b(p,"input",t[23]),b(D,"change",t[24]),b(D,"input",t[24]),b(Y,"change",t[25]),b(Y,"input",t[25])]},p(t,e){const i={};1018&e[0]|1&e[1]&&(i.$$scope={dirty:e,ctx:t}),!n&&1024&e[0]&&(n=!0,i.gl=t[10],q(()=>n=!1)),lt.$set(i);const l={};4&e[0]&&(l.title=t[2]),!o&&2048&e[0]&&(o=!0,l.init=t[11],q(()=>o=!1)),!r&&1&e[0]&&(r=!0,l.optionFlags=t[0],q(()=>r=!1)),!a&&8&e[0]&&(a=!0,l.viewLocation=t[3],q(()=>a=!1)),!s&&16&e[0]&&(s=!0,l.viewTarget=t[4],q(()=>s=!1)),pt.$set(l),2&e[0]&&L(f,t[1]),64&e[0]&&L(p,t[6]),(!Q||64&e[0])&&T(I,t[6]),128&e[0]&&L(D,t[7]),(!Q||128&e[0])&&T(H,t[7]),256&e[0]&&L(Y,t[8]),(!Q||256&e[0])&&T(J,t[8])},i(t){Q||(tt(lt.$$.fragment,t),tt(pt.$$.fragment,t),Q=!0)},o(t){nt(lt.$$.fragment,t),nt(pt.$$.fragment,t),Q=!1},d(t){it(lt,t),t&&$(e),it(pt,t),t&&$(l),t&&$(c),i(Z)}}}const he=10,ge=10;function $e(t,n=1){const e=parseInt("0x"+t.substr(1,2),16),o=parseInt("0x"+t.substr(3,2),16),r=parseInt("0x"+t.substr(5,2),16),i=Math.floor(e*(n/.25)),a=Math.floor(r*(n/.25));return Math.abs(((i<255?i:e)<<16)+(o<<8)+(a<255?a:r))}function ve(t,n,e){let{title:o}=n,{options:r={labels:[],values:[]}}=n,i=new Float32Array([0,10,5]),a=new Float32Array([0,1,0]);let{color:s="#ff3e00"}=n;const l=JSON.parse(document.getElementById("gl_data_in_html").children[0].innerHTML),c=[];for(let t=0;t<l.length;t++){const n=[];for(const e of Object.getOwnPropertyNames(l[t]))n.push(l[t][e]);c[t]=n}console.log(c);let u=1,f=1,d=1;const m={};let p,h,g=t=>{console.log(t)};R(()=>{let t;"function"==typeof h&&h();const n=()=>{t=requestAnimationFrame(n),e(9,m.x=3*Math.sin(.001*Date.now()),m),e(9,m.y=2.5+2*Math.sin(4e-4*Date.now()),m),e(9,m.z=3*Math.cos(.002*Date.now()),m)};return n(),()=>cancelAnimationFrame(t)});return t.$set=t=>{"title"in t&&e(2,o=t.title),"options"in t&&e(0,r=t.options),"color"in t&&e(1,s=t.color)},[r,s,o,i,a,c,u,f,d,m,p,h,(t,n)=>(console.log("location: ",t,"\n","target: ",n),""),(t,n,e)=>{n.program},g,l,function(t){p=t,e(10,p)},function(t){h=t,e(11,h)},function(t){r=t,e(0,r)},function(t){i=t,e(3,i)},function(t){a=t,e(4,a)},t=>g(t),function(){s=this.value,e(1,s)},function(){u=E(this.value),e(6,u)},function(){f=E(this.value),e(7,f)},function(){d=E(this.value),e(8,d)}]}function _e(t){let e,o,r,a,s,l,c,u,f,d,m,p,v,x,E,T,L,M,F,I,S,R,N,D,O,C,P,z,k;return{c(){e=_("div"),o=_("button"),o.textContent="1",r=w(),a=_("button"),a.textContent="2",s=w(),l=_("button"),l.textContent="3",c=w(),u=_("button"),u.textContent="4",f=w(),d=_("button"),d.textContent="5",m=w(),p=_("button"),p.textContent="6",v=w(),x=_("button"),x.textContent="7",E=w(),T=_("button"),T.textContent="8",L=w(),M=_("button"),M.textContent="9",F=w(),I=_("button"),S=y("clear"),N=w(),D=_("button"),D.textContent="0",O=w(),C=_("button"),P=y("submit"),A(o,"class","svelte-el36x5"),A(a,"class","svelte-el36x5"),A(l,"class","svelte-el36x5"),A(u,"class","svelte-el36x5"),A(d,"class","svelte-el36x5"),A(p,"class","svelte-el36x5"),A(x,"class","svelte-el36x5"),A(T,"class","svelte-el36x5"),A(M,"class","svelte-el36x5"),I.disabled=R=!t[0],A(I,"class","svelte-el36x5"),A(D,"class","svelte-el36x5"),C.disabled=z=!t[0],A(C,"class","svelte-el36x5"),A(e,"class","keypad svelte-el36x5")},m(n,i){g(n,e,i),h(e,o),h(e,r),h(e,a),h(e,s),h(e,l),h(e,c),h(e,u),h(e,f),h(e,d),h(e,m),h(e,p),h(e,v),h(e,x),h(e,E),h(e,T),h(e,L),h(e,M),h(e,F),h(e,I),h(I,S),h(e,N),h(e,D),h(e,O),h(e,C),h(C,P),k=[b(o,"click",t[1](1)),b(a,"click",t[1](2)),b(l,"click",t[1](3)),b(u,"click",t[1](4)),b(d,"click",t[1](5)),b(p,"click",t[1](6)),b(x,"click",t[1](7)),b(T,"click",t[1](8)),b(M,"click",t[1](9)),b(I,"click",t[2]),b(D,"click",t[1](0)),b(C,"click",t[3])]},p(t,[n]){1&n&&R!==(R=!t[0])&&(I.disabled=R),1&n&&z!==(z=!t[0])&&(C.disabled=z)},i:n,o:n,d(t){t&&$(e),i(k)}}}function ye(t,n,e){let{value:o=""}=n;const r=D();return t.$set=t=>{"value"in t&&e(0,o=t.value)},[o,t=>()=>e(0,o+=t),()=>e(0,o=""),()=>r("submit")]}class we extends st{constructor(t){super(),at(this,t,ye,_e,s,{value:0})}}function xe(t){let n;const e=new Sn({props:{location:t[15],lookAt:"center",near:.01,far:1e3}});return{c(){ot(e.$$.fragment)},m(t,o){rt(e,t,o),n=!0},p(t,n){const o={};32768&n&&(o.location=t[15]),e.$set(o)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function be(t){let e,o;const r=new mn({props:{geometry:Gn({turns:36,bands:36}),location:[0,.2,0],scale:.1,uniforms:{color:16777215,emissive:16711680}}}),i=new wn({props:{location:[0,0,0],color:16711680,intensity:.6}});return{c(){ot(r.$$.fragment),e=w(),ot(i.$$.fragment)},m(t,n){rt(r,t,n),g(t,e,n),rt(i,t,n),o=!0},p:n,i(t){o||(tt(r.$$.fragment,t),tt(i.$$.fragment,t),o=!0)},o(t){nt(r.$$.fragment,t),nt(i.$$.fragment,t),o=!1},d(t){it(r,t),t&&$(e),it(i,t)}}}function Ae(t){let n,e,o,r,i,a,s,l,c,u,f,d,m;const p=new hn({props:{id:"center",location:[0,t[4]/2,0]}}),h=new Fn({props:{maxPolarAngle:Math.PI/2,$$slots:{default:[xe,({location:t})=>({15:t}),({location:t})=>t?32768:0]},$$scope:{ctx:t}}}),v=new $n({props:{intensity:.3}}),_=new _n({props:{direction:[-1,-1,-1],intensity:.5}}),y=new mn({props:{geometry:On({}),location:[0,t[4]/2,0],rotation:[0,-20,0],scale:[t[3],t[4],t[5]],uniforms:{color:t[8](t[0])}}}),x=new mn({props:{geometry:Gn({turns:36,bands:36}),location:[-.5,.4,1.2],scale:.4,uniforms:{color:1193046,alpha:.9},transparent:!0}}),b=new mn({props:{geometry:Gn({turns:36,bands:36}),location:[-1.4,.6,.2],scale:.6,uniforms:{color:3368516,alpha:1},transparent:!0}}),A=new mn({props:{geometry:Cn(),location:[0,-.01,0],rotation:[-90,0,0],scale:10,uniforms:{color:16777215}}}),E=new mn({props:{geometry:Cn(),location:[0,5,0],rotation:[90,0,0],scale:10,uniforms:{color:16777215}}}),T=new mn({props:{geometry:Cn(),location:[0,-.01,-10],rotation:[0,0,0],scale:10,uniforms:{color:16777215}}}),L=new mn({props:{geometry:Cn(),location:[10,-.01,0],rotation:[0,-90,0],scale:10,uniforms:{color:16777215}}}),M=new mn({props:{geometry:Cn(),location:[-10,-.01,0],rotation:[0,90,0],scale:10,uniforms:{color:16777215}}}),F=new nn({props:{location:[t[6].x,t[6].y,t[6].z],$$slots:{default:[be]},$$scope:{ctx:t}}});return{c(){ot(p.$$.fragment),n=w(),ot(h.$$.fragment),e=w(),ot(v.$$.fragment),o=w(),ot(_.$$.fragment),r=w(),ot(y.$$.fragment),i=w(),ot(x.$$.fragment),a=w(),ot(b.$$.fragment),s=w(),ot(A.$$.fragment),l=w(),ot(E.$$.fragment),c=w(),ot(T.$$.fragment),u=w(),ot(L.$$.fragment),f=w(),ot(M.$$.fragment),d=w(),ot(F.$$.fragment)},m(t,$){rt(p,t,$),g(t,n,$),rt(h,t,$),g(t,e,$),rt(v,t,$),g(t,o,$),rt(_,t,$),g(t,r,$),rt(y,t,$),g(t,i,$),rt(x,t,$),g(t,a,$),rt(b,t,$),g(t,s,$),rt(A,t,$),g(t,l,$),rt(E,t,$),g(t,c,$),rt(T,t,$),g(t,u,$),rt(L,t,$),g(t,f,$),rt(M,t,$),g(t,d,$),rt(F,t,$),m=!0},p(t,n){const e={};16&n&&(e.location=[0,t[4]/2,0]),p.$set(e);const o={};98304&n&&(o.$$scope={dirty:n,ctx:t}),h.$set(o);const r={};16&n&&(r.location=[0,t[4]/2,0]),56&n&&(r.scale=[t[3],t[4],t[5]]),1&n&&(r.uniforms={color:t[8](t[0])}),y.$set(r);const i={};64&n&&(i.location=[t[6].x,t[6].y,t[6].z]),65536&n&&(i.$$scope={dirty:n,ctx:t}),F.$set(i)},i(t){m||(tt(p.$$.fragment,t),tt(h.$$.fragment,t),tt(v.$$.fragment,t),tt(_.$$.fragment,t),tt(y.$$.fragment,t),tt(x.$$.fragment,t),tt(b.$$.fragment,t),tt(A.$$.fragment,t),tt(E.$$.fragment,t),tt(T.$$.fragment,t),tt(L.$$.fragment,t),tt(M.$$.fragment,t),tt(F.$$.fragment,t),m=!0)},o(t){nt(p.$$.fragment,t),nt(h.$$.fragment,t),nt(v.$$.fragment,t),nt(_.$$.fragment,t),nt(y.$$.fragment,t),nt(x.$$.fragment,t),nt(b.$$.fragment,t),nt(A.$$.fragment,t),nt(E.$$.fragment,t),nt(T.$$.fragment,t),nt(L.$$.fragment,t),nt(M.$$.fragment,t),nt(F.$$.fragment,t),m=!1},d(t){it(p,t),t&&$(n),it(h,t),t&&$(e),it(v,t),t&&$(o),it(_,t),t&&$(r),it(y,t),t&&$(i),it(x,t),t&&$(a),it(b,t),t&&$(s),it(A,t),t&&$(l),it(E,t),t&&$(c),it(T,t),t&&$(u),it(L,t),t&&$(f),it(M,t),t&&$(d),it(F,t)}}}function Ee(t){let n,e,o,r,a,s,l,c,u,f,d,m,p,v,x,E,F,I,S,R,N,D,O,C,P,k,H,U,B,G,Y,j,X,W,V,J,K,Q,Z;const at=new Ut({props:{$$slots:{default:[Ae]},$$scope:{ctx:t}}});function st(n){t[14].call(null,n)}let lt={};void 0!==t[1]&&(lt.value=t[1]);const ct=new we({props:lt});return z.push(()=>et(ct,"value",st)),ct.$on("submit",t[7]),{c(){ot(at.$$.fragment),n=w(),e=_("div"),o=_("label"),r=_("input"),a=w(),s=_("label"),l=_("input"),d=y(" width ("),m=y(t[3]),p=y(")"),v=w(),x=_("label"),E=_("input"),R=y(" height ("),N=y(t[4]),D=y(")"),O=w(),C=_("label"),P=_("input"),B=y(" depth ("),G=y(t[5]),Y=y(")"),j=w(),X=_("div"),W=_("h1"),V=y(t[2]),J=w(),ot(ct.$$.fragment),A(r,"type","color"),M(r,"height","40px"),A(l,"type","range"),A(l,"min",c=.1),A(l,"max",u=5),A(l,"step",f=.1),A(E,"type","range"),A(E,"min",F=.1),A(E,"max",I=5),A(E,"step",S=.1),A(P,"type","range"),A(P,"min",k=.1),A(P,"max",H=5),A(P,"step",U=.1),A(e,"class","controls svelte-1lna7uf"),M(W,"color",t[1]?"#999":"#fff"),A(W,"class","svelte-1lna7uf"),A(X,"class","controls keys svelte-1lna7uf")},m(i,c){rt(at,i,c),g(i,n,c),g(i,e,c),h(e,o),h(o,r),L(r,t[0]),h(e,a),h(e,s),h(s,l),L(l,t[3]),h(s,d),h(s,m),h(s,p),h(e,v),h(e,x),h(x,E),L(E,t[4]),h(x,R),h(x,N),h(x,D),h(e,O),h(e,C),h(C,P),L(P,t[5]),h(C,B),h(C,G),h(C,Y),g(i,j,c),g(i,X,c),h(X,W),h(W,V),h(X,J),rt(ct,X,null),Q=!0,Z=[b(r,"input",t[10]),b(l,"change",t[11]),b(l,"input",t[11]),b(E,"change",t[12]),b(E,"input",t[12]),b(P,"change",t[13]),b(P,"input",t[13])]},p(t,[n]){const e={};65657&n&&(e.$$scope={dirty:n,ctx:t}),at.$set(e),1&n&&L(r,t[0]),8&n&&L(l,t[3]),(!Q||8&n)&&T(m,t[3]),16&n&&L(E,t[4]),(!Q||16&n)&&T(N,t[4]),32&n&&L(P,t[5]),(!Q||32&n)&&T(G,t[5]),(!Q||4&n)&&T(V,t[2]),(!Q||2&n)&&M(W,"color",t[1]?"#999":"#fff");const o={};!K&&2&n&&(K=!0,o.value=t[1],q(()=>K=!1)),ct.$set(o)},i(t){Q||(tt(at.$$.fragment,t),tt(ct.$$.fragment,t),Q=!0)},o(t){nt(at.$$.fragment,t),nt(ct.$$.fragment,t),Q=!1},d(t){it(at,t),t&&$(n),t&&$(e),t&&$(j),t&&$(X),it(ct),i(Z)}}}function Te(t,n,e){let o,r,{title:i}=n;let{color:a="#ff3e00"}=n,s=1,l=1,c=1;const u={};return R(()=>{let t;const n=()=>{t=requestAnimationFrame(n),e(6,u.x=3*Math.sin(.001*Date.now()),u),e(6,u.y=2.5+2*Math.sin(4e-4*Date.now()),u),e(6,u.z=3*Math.cos(.002*Date.now()),u)};return n(),()=>cancelAnimationFrame(t)}),t.$set=t=>{"title"in t&&e(9,i=t.title),"color"in t&&e(0,a=t.color)},t.$$.update=()=>{2&t.$$.dirty&&e(2,r=o?o.replace(/\d(?!$)/g,"*"):"enter your pin")},[a,o,r,s,l,c,u,function(){alert(`submitted ${o}`)},t=>parseInt(t.slice(1),16),i,function(){a=this.value,e(0,a)},function(){s=E(this.value),e(3,s)},function(){l=E(this.value),e(4,l)},function(){c=E(this.value),e(5,c)},function(t){o=t,e(1,o)}]}const Le=document.getElementById("svelte-app");var Me=null===Le||"HTMLElement"!==Le.constructor.name&&"HTMLDivElement"!==Le.constructor.name?{}:new class extends st{constructor(t){super(),at(this,t,ct,lt,s,{greeting:0})}}({target:Le,props:{greeting:"Hooray  - you've built this with <a href='https://github.com/dancingfrog/sveltr' target='_blank'>Sveltr</a>!"}});const Fe=document.getElementById("tech-app"),Ie=null===Fe||"HTMLElement"!==Fe.constructor.name&&"HTMLDivElement"!==Fe.constructor.name?{}:new class extends st{constructor(t){super(),at(this,t,Te,Ee,s,{title:9,color:0})}}({target:Fe,props:{title:" Hello Svelte!"}}),Se=document.getElementById("gl-app"),Re=null===Se||"HTMLElement"!==Se.constructor.name&&"HTMLDivElement"!==Se.constructor.name?{}:new class extends st{constructor(t){super(),at(this,t,te,Kn,s,{title:7,color:0})}}({target:Se,props:{title:" Hello SvelteGL!"}}),Ne=document.getElementById("uni-sol"),De=null===Ne||"HTMLElement"!==Ne.constructor.name&&"HTMLDivElement"!==Ne.constructor.name?{}:new class extends st{constructor(t){super(),at(this,t,ve,pe,s,{title:2,options:0,color:1},[-1,-1])}}({target:Ne,props:{title:"Visualizing R Data with Sveltr"}});return t.default=Me,t.glApp=Re,t.techApp=Ie,t.vizrApp=De,t}({});
//# sourceMappingURL=main.js.map
